"use strict";(self.webpackChunkadmin_fe=self.webpackChunkadmin_fe||[]).push([[143],{44963:(I,c,t)=>{t.d(c,{FR:()=>r,yq:()=>y,uf:()=>P,dW:()=>O});var f=t(88674),U=t(52861);let m=null,o=0;const g=()=>{o++},l=()=>{o--,o===0&&m?.close()},i=h=>{const A=U.Z.create({baseURL:"/dev-api",headers:{"x-access-token":"bqddxxwqmfncffacvbpkuxvwvqrhln"},timeout:3e3,withCredentials:!0,...h});return A.interceptors.request.use(function(d){const{loading:E=!0}=d;return E&&g(),d},function(d){return Promise.reject(d)}),A.interceptors.response.use(function(d){const{loading:E=!0,notify:x=!1}=d.config;E&&l();const{code:J,data:B,message:$,cache:Q,timeout:b}=d.data;return d.data},function(d){const{loading:E=!0}=d.config;return E&&l(),d.response&&d.response.status,Promise.reject(d)}),A},n=i({}),y=h=>n.post("/login",{...h}),O=h=>n.post("/userInfo",{token:h}),P=h=>n.post("/logout",{token:h}),r=i({baseURL:"https://mock.apifox.cn/m1/1225980-0-default"})},1172:(I,c,t)=>{var f=t(67294),U=t(20745),m=t(79655),o=t(797),g=t(86706),l=t(14890),T=t(53894),i=t(75544),n=t(84595);const y={name:"",role:"",avatar:"",token:(0,n.LP)(),userInfo:(0,n.bG)(),collapsed:!1};function O(s=y,e){switch(e.type){case i.rw:return{...s,token:e.token};case i.rG:return{...s,userInfo:e.userInfo};case i._U:return{...s,collapsed:e.collapsed};case i.IR:return{};default:return s}}var P=t(9994);const r={tabList:[{label:"\u9996\u9875",key:"/home",closable:!1}],activeKey:"/home",pageConfig:{layoutItems:["tabs","breadcrumb","logo","pageFooter"]}};function h(s=r,e){switch(e.type){case P.zJ:return{...s,tabList:e.tabList};case P.Rr:return{...s,tabList:e.tabList};case P.L6:return{...s,tabList:e.tabList};case P.tY:return{...s,tabList:e.tabList};case P.GK:return{...s,activeKey:e.activeKey};case P.mf:return{...s,pageConfig:{layoutItems:e.layoutItems}};default:return s}}const A=(0,l.UY)({global:O,topHeader:h});var d=t(99244),E=t(76734);const x={key:"root",storage:E.Z,whitelist:["topHeader"]},J=(0,d.OJ)(x,A),B=(0,l.MT)(J,(0,l.md)(T.Z)),$=(0,d.p5)(B),Q=B;var b=t(79144),H=t(89250),q=t(12599),it=t(18655);const _=s=>{const e=(0,H.s0)(),a=(0,g.v9)(L=>L.global),{pathname:v}=(0,H.TH)(),S=(0,H.TH)(),z=(0,q.fp)(o.H,S),{token:N,userInfo:W}=a,G=z.find(L=>L.pathname===v),{route:D}=G;return(0,f.useEffect)(()=>{var L,Z,V,Y,p,X;if(!N&&v!=="/login")return e("/login",{replace:!0});if(N&&v==="/login")return e("/home",{replace:!0});if(W?.role!=="admin"&&D!==null&&D!==void 0&&(L=D.meta)!==null&&L!==void 0&&(Z=L.auth)!==null&&Z!==void 0&&(V=Z.roles)!==null&&V!==void 0&&V.length&&!(D!=null&&(Y=D.meta)!==null&&Y!==void 0&&(p=Y.auth)!==null&&p!==void 0&&(X=p.roles)!==null&&X!==void 0&&X.includes(W.role)))return e("/error",{replace:!0})},[N,v]),s.children};var C=t(85893);const tt=()=>(0,C.jsx)(g.zt,{store:Q,children:(0,C.jsx)(b.r,{persistor:$,children:(0,C.jsx)(m.UT,{children:(0,C.jsx)(_,{children:(0,C.jsx)(o.Z,{})})})})});var st=t(15623),u=t.n(st);const K={superAdmin:"superAdmin-token",admin:"admin-token",guest:"guest-token",editor:"editor-token"},M={"admin-token":{id:"admin",role:"admin",name:"Admin",avatar:"https://img.zcool.cn/community/01e35e564c6f4432f87512f6a7b0a4.jpg@1280w_1l_2o_100sh.jpg",description:"\u62E5\u6709\u7CFB\u7EDF\u5185\u6240\u6709\u83DC\u5355\u548C\u8DEF\u7531\u6743\u9650"},"editor-token":{id:"editor",role:"editor",name:"\u7F16\u8F91\u5458",avatar:"https://ts1.cn.mm.bing.net/th/id/R-C.459039f30e0cb09ba4e51528e644baf9?rik=QhVWJBtMUMsp9A&riu=http%3a%2f%2fimg.zcool.cn%2fcommunity%2f01514355cdbab56ac725baa0130899.jpg%401280w_1l_2o_100sh.jpg&ehk=UuPnllBZxS8kgx67AgpNwor%2fUc0SpTHAAVvXpEKFZwU%3d&risl=&pid=ImgRaw&r=0F",description:"\u53EF\u4EE5\u770B\u5230\u9664\u6237\u7BA1\u7406\u9875\u9762\u4E4B\u5916\u7684\u6240\u6709\u9875\u9762"},"guest-token":{id:"guest",role:"guest",name:"\u6E38\u5BA2",avatar:"https://joesch.moe/api/v1/random",description:"\u4EC5\u80FD\u770B\u5230Dashboard\u3001\u4F5C\u8005\u535A\u5BA2\u3001\u6743\u9650\u6D4B\u8BD5\u548C\u5173\u4E8E\u4F5C\u8005\u56DB\u4E2A\u9875\u9762"}},R={login:s=>{const{username:e}=JSON.parse(s.body),a=K[e];return a?{status:0,token:a}:{status:1,message:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF"}},userInfo:s=>{const{token:e}=JSON.parse(s.body),a=M[e];return a?{status:0,userInfo:a}:{status:1,message:"\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u5931\u8D25"}},getUsers:()=>({status:0,users:Object.values(M)}),deleteUser:s=>{const{id:e}=JSON.parse(s.body),a=K[e];return a&&(delete K[e],delete M[a]),{status:0}},editUser:s=>{const e=JSON.parse(s.body),{id:a}=e,v=K[a];return v&&(M[v]={...M[v],...e}),{status:0}},ValidatUserID:s=>{const e=s.body;return K[e]?{status:1}:{status:0}},addUser:s=>{const e=JSON.parse(s.body),{id:a}=e;return K[a]=`${a}-token`,M[`${a}-token`]={...M["guest-token"],...e},{status:0}},logout:s=>({status:0,data:"success"})},k=[],nt=20;for(let s=0;s<nt;s++)k.push(u().mock({key:"@increment",order_no:"@guid()",price:"@float(1000, 15000, 0, 2)","tag|1":["success","pending"]}));const et={transactionList:s=>({code:2e4,data:{items:k}})},w=[],ot=20;for(let s=0;s<ot;s++)w.push(u().mock({id:"@increment",title:"@ctitle(5, 10)",author:"@cname",readings:"@integer(300, 5000)",date:"@datetime"}));const lt={excelList:s=>({code:2e4,data:{items:w}})};let j=[];const at=100;for(let s=0;s<at;s++)j.push(u().mock({id:s,title:"@ctitle(5, 10)",author:"@cname",readings:"@integer(300, 5000)","star|1-3":"\u2605","status|1":["published","draft"],date:"@datetime"}));const F={tableList:s=>{const{pageNumber:e,pageSize:a,title:v,status:S,star:z}=JSON.parse(s.body);let N=(e-1)*a,W=e*a,G=j.filter(L=>!(z&&L.star.length!==z||S&&L.status!==S||v&&L.title.indexOf(v)<0)),D=G.slice(N,W);return{code:2e4,data:{total:G.length,items:D}}},deleteItem:s=>{const{id:e}=JSON.parse(s.body),a=j.filter(S=>S.id===e),v=j.indexOf(a[0]);return j.splice(v,1),{code:2e4}},editItem:s=>{const e=JSON.parse(s.body),{id:a}=e,v=j.filter(z=>z.id===a),S=j.indexOf(v[0]);return j.splice(S,1,e),{code:2e4}}},dt={monitor:s=>({status:1,message:"monitor"})};u().mock(/\/login/,"post",R.login),u().mock(/\/logout/,"post",R.logout),u().mock(/\/userInfo/,"post",R.userInfo),u().mock(/\/user\/list/,"get",R.getUsers),u().mock(/\/user\/delete/,"post",R.deleteUser),u().mock(/\/user\/edit/,"post",R.editUser),u().mock(/\/user\/validatUserID/,"post",R.ValidatUserID),u().mock(/\/user\/add/,"post",R.addUser),u().mock(/\/transaction\/list/,"get",et.transactionList),u().mock(/\/excel\/list/,"get",lt.excelList),u().mock(/\/table\/list/,"post",F.tableList),u().mock(/\/table\/delete/,"post",F.deleteItem),u().mock(/\/table\/edit/,"post",F.editItem),u().mock(/\/monitor/,"post",dt.monitor);const ct=null,mt=document.getElementById("root");(0,U.s)(mt).render((0,C.jsx)(tt,{}))},797:(I,c,t)=>{t.d(c,{H:()=>O,Z:()=>r});var f=t(66992),U=t.n(f),m=t(88674),o=t.n(m),g=t(33948),l=t.n(g),T=t(89250),i=t(67294),n=t(16262),y=t(85893);const O=[{path:"/",element:(0,y.jsx)(T.Fg,{to:"/home"})},{path:"/login",element:(0,n.u)((0,i.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(286),t.e(284)]).then(t.bind(t,76284))))},{element:(0,n.u)((0,i.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(44),t.e(286),t.e(607)]).then(t.bind(t,27090)))),children:[...n.Z]},{path:"*",element:(0,n.u)((0,i.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(861)]).then(t.bind(t,53301))))}],r=()=>(0,T.V$)(O)},16262:(I,c,t)=>{t.d(c,{Z:()=>O,u:()=>n});var f=t(66992),U=t(88674),m=t(33948),o=t(67294),g=t(42507),l=t(85893);const T=()=>(0,l.jsx)("div",{children:(0,l.jsx)("h2",{children:"GridLayout"})}),i=()=>(0,l.jsx)("div",{children:(0,l.jsx)("h2",{children:"search-panel2"})});function n(P){return(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)(g.Z,{size:"large",style:{display:"flex",alignItems:"center",justifyContent:"center"}}),children:(0,l.jsx)(P,{})})}const O=[{path:"/home",element:n((0,o.lazy)(()=>t.e(668).then(t.bind(t,32668)))),meta:{title:"\u9996\u9875"}},{path:"/form",meta:{title:"\u8868\u5355"},children:[{path:"/form/dynamic",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(427)]).then(t.bind(t,4427)))),meta:{title:"\u52A8\u6001\u8868\u5355"}},{path:"/form/steps",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(44),t.e(61),t.e(364)]).then(t.bind(t,76364)))),meta:{title:"\u5206\u6B65\u8868\u5355"}}]},{path:"/table",meta:{title:"\u8868\u683C Table"},children:[{path:"/table/pro",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(44),t.e(61),t.e(702),t.e(440)]).then(t.bind(t,51440)))),meta:{title:"\u67E5\u8BE2\u8868\u683C"}},{path:"/table/detail",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(44),t.e(964)]).then(t.bind(t,53916)))),meta:{hideInMenu:!0,title:"\u8868\u683C\u8BE6\u60C5"}},{path:"/table/edit",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(44),t.e(61),t.e(702),t.e(248)]).then(t.bind(t,36248)))),meta:{title:"\u7F16\u8F91\u8868\u683C"}}]},{path:"/auth",meta:{title:"\u6743\u9650\u7BA1\u7406"},children:[{path:"/auth/page",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(395)]).then(t.bind(t,25395)))),meta:{title:"\u754C\u9762\u6743\u9650"}},{path:"/auth/comp",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(512),t.e(532),t.e(44),t.e(764)]).then(t.bind(t,86764)))),meta:{title:"\u6309\u94AE\u7B49\u5176\u4ED6\u6743\u9650\u63A7\u5236",auth:{permissionBtn:["save"]}}},{path:"/auth/admin",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(584)]).then(t.bind(t,7584)))),meta:{title:"Auth-Admin-page",auth:{roles:["admin"]}}},{path:"/auth/editor",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(920)]).then(t.bind(t,20920)))),meta:{title:"Auth-Editor-Page",auth:{roles:["editor"]}}},{path:"/auth/guest",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(604)]).then(t.bind(t,25604)))),meta:{title:"Auth-Guest-Page",auth:{roles:["guest"]}}},{path:"/auth/editor-guest",element:n((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(915),t.e(393)]).then(t.bind(t,95393)))),meta:{title:"Auth-Editor & Guest-Page",auth:{roles:["guest","editor"]}}}]},{path:"/assembly",meta:{title:"\u5E38\u7528\u7EC4\u4EF6"},children:[{path:"/assembly/grid-layout",element:(0,l.jsx)(T,{}),meta:{title:"\u5E03\u5C40\u7EC4\u4EF6"}},{path:"/assembly/search-panel2",element:(0,l.jsx)(i,{}),meta:{title:"\u67E5\u8BE2\u7EC4\u4EF62"}}]},{path:"/menu",meta:{title:"\u83DC\u5355\u5D4C\u5957"},children:[{path:"/menu/menu-1",element:(0,l.jsx)("h2",{children:"menu-1"}),meta:{title:"\u83DC\u5355 menu-1"}},{path:"/menu/menu-2",meta:{title:"\u83DC\u5355 menu-2"},children:[{path:"/menu/menu-2/menu-2-1",element:(0,l.jsx)("h2",{children:"menu-2-1"}),meta:{title:"menu-2-1"}},{path:"/menu/menu-2/menu-2-2",element:(0,l.jsx)("h2",{children:"menu-2-2"}),meta:{title:"menu-2-2"}},{path:"/menu/menu-2/menu-2-3",element:(0,l.jsx)("h2",{children:"menu-2-3"}),meta:{title:"menu-2-3"}}]},{path:"/menu/menu-3",element:(0,l.jsx)("h2",{children:"menu-3"}),meta:{title:"\u83DC\u5355 menu-3"}}]},{path:"/other",element:(0,l.jsx)(l.Fragment,{children:"ss"}),meta:{title:"\u5176\u4ED6"},children:[{path:"/other/file-download",element:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("h2",{children:"download"})}),meta:{title:"\u6587\u4EF6\u4E0B\u8F7D"}}]}]},18655:(I,c,t)=>{t.d(c,{bG:()=>T,kS:()=>i,oR:()=>n,x4:()=>l});var f=t(88674),U=t.n(f),m=t(44963),o=t(75544),g=t(84595);const l=({username:r,password:h})=>A=>new Promise((d,E)=>{(0,m.yq)({username:r,password:h}).then(x=>{const{status:J,token:B,message:$}=x;J===0?(A(y(B)),(0,g.o4)(B),d(x)):E($)})}),T=r=>h=>new Promise((A,d)=>{(0,m.dW)(r).then(E=>{const{userInfo:x}=E;h(O(x)),(0,g.ps)(x),A(E)})}),i=r=>h=>new Promise((A,d)=>{(0,m.uf)(r).then(E=>{E?.status===0&&(h(y(void 0)),h(P()),window.localStorage.clear())})}),n=r=>({type:o._U,collapsed:r}),y=r=>({type:o.rw,token:r}),O=r=>({type:o.rG,userInfo:r}),P=()=>({type:o.IR})},75544:(I,c,t)=>{t.d(c,{IR:()=>m,_U:()=>o,rG:()=>U,rw:()=>f});const f="USER_SET_USER_TOKEN",U="USER_SET_USER_INFO",m="USER_RESET_USER",o="UPDATE_COLLAPSE"},9994:(I,c,t)=>{t.d(c,{GK:()=>l,L6:()=>g,Rr:()=>m,mf:()=>T,tY:()=>o,zJ:()=>f});const f="SET_TABS",U="REMOVE_TABS",m="DELETE_CURRENT_TAB",o="DELETE_OTHER_TAB",g="DELETE_ALL_TAB",l="SET_TABS_ACTIVE_KEY",T="SET_PAGE_LAYOUT_ITEMS"},84595:(I,c,t)=>{t.d(c,{LP:()=>g,bG:()=>i,nC:()=>o,o4:()=>l,ps:()=>T});var f=t(89250),U=t(12599),m=t(797);const o=()=>{const n=(0,f.TH)();return(0,U.fp)(m.H,n).find(O=>O.pathname===n.pathname)},g=()=>{const n=JSON.parse(localStorage.getItem("token"));if(n)return n},l=n=>{n&&localStorage.setItem("token",JSON.stringify(n))},T=n=>{localStorage.setItem("user-info",JSON.stringify(n))},i=()=>{const n=JSON.parse(localStorage.getItem("user-info"));if(n)return n}}},I=>{var c=f=>I(I.s=f);I.O(0,[203,580],()=>c(1172));var t=I.O()}]);
