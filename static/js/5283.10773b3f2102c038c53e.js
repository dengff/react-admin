"use strict";(self.webpackChunkantd_admin=self.webpackChunkantd_admin||[]).push([[5283],{99610:(Ge,k,e)=>{e.d(k,{I:()=>G});var O=e(29439),D=e(4942),o=e(1413),q=e(74165),X=e(15861),pe=e(44925),We=e(59852),Le=e(22270),ye=e(48171),Ve=e(26369),xe=e(60249),Be=e(41036),v=e(21770),De=e(75661),Se=e(17642),be=e(98082),ce=e(356),je=e(23312),H=e(45095),te=e(33792),a=e(58331),L=e(36646),Oe=e(94184),Ne=e.n(Oe),Ie=e(97435),ae=e(88306),ee=e(8880),le=e(80334),s=e(67294),Pe=e(43034),g=e(6395),F=e(66758),_e=e(2514),ie=e(9105),M=e(85893),re=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","formRef","onInit","form","loading","formComponentType","extraUrlParams","syncToUrl","onUrlSearchChange","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput","grid","rowProps","colProps"],N=["extraUrlParams","syncToUrl","isKeyPressSubmit","syncToUrlAsImportant","syncToInitialValues","children","contentRender","submitter","fieldProps","proFieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","onReset","grid","rowProps","colProps","omitNil","request","params","initialValues","formKey","readonly","onLoadingChange","loading"],se=function(h,C,p){return h===!0?C:(0,Le.h)(h,C,p)},Re=function(h){return!h||Array.isArray(h)?h:[h]};function Te(r){var h,C=r.children,p=r.contentRender,V=r.submitter,z=r.fieldProps,oe=r.formItemProps,de=r.groupProps,y=r.transformKey,J=r.formRef,ue=r.onInit,I=r.form,A=r.loading,$e=r.formComponentType,R=r.extraUrlParams,i=R===void 0?{}:R,t=r.syncToUrl,K=r.onUrlSearchChange,T=r.onReset,ze=r.omitNil,$=ze===void 0?!0:ze,ge=r.isKeyPressSubmit,Ye=r.autoFocusFirstInput,Ee=Ye===void 0?!0:Ye,he=r.grid,Je=r.rowProps,x=r.colProps,Y=(0,pe.Z)(r,re),d=te.Z.useFormInstance(),Ze=(a.ZP===null||a.ZP===void 0||(h=a.ZP.useConfig)===null||h===void 0?void 0:h.call(a.ZP))||{componentSize:"middle"},me=Ze.componentSize,f=(0,s.useRef)(I||d),Xe=(0,_e.zx)({grid:he,rowProps:Je}),Ce=Xe.RowWrapper,ne=(0,ye.J)(function(){return d}),Ae=(0,s.useMemo)(function(){return{getFieldsFormatValue:function(P){var _;return y((_=ne())===null||_===void 0?void 0:_.getFieldsValue(P),$)},getFieldFormatValue:function(){var P,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=Re(_);if(!m)throw new Error("nameList is require");var n=(P=ne())===null||P===void 0?void 0:P.getFieldValue(m),u=m?(0,ee.Z)({},m,n):n;return(0,ae.Z)(y(u,$,m),m)},getFieldFormatValueObject:function(P){var _,m=Re(P),n=(_=ne())===null||_===void 0?void 0:_.getFieldValue(m),u=m?(0,ee.Z)({},m,n):n;return y(u,$,m)},validateFieldsReturnFormatValue:function(){var l=(0,X.Z)((0,q.Z)().mark(function _(m){var n,u,Z;return(0,q.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!Array.isArray(m)&&m)){j.next=2;break}throw new Error("nameList must be array");case 2:return j.next=4,(n=ne())===null||n===void 0?void 0:n.validateFields(m);case 4:return u=j.sent,Z=y(u,$),j.abrupt("return",Z||{});case 7:case"end":return j.stop()}},_)}));function P(_){return l.apply(this,arguments)}return P}(),formRef:f}},[$,y]),B=(0,s.useMemo)(function(){return s.Children.toArray(C).map(function(l,P){return P===0&&s.isValidElement(l)&&Ee?s.cloneElement(l,(0,o.Z)((0,o.Z)({},l.props),{},{autoFocus:Ee})):l})},[Ee,C]),E=(0,s.useMemo)(function(){return typeof V=="boolean"||!V?{}:V},[V]),Me=(0,s.useMemo)(function(){if(V!==!1)return(0,M.jsx)(Pe.Z,(0,o.Z)((0,o.Z)({},E),{},{onReset:function(){var P,_,m=y((P=f.current)===null||P===void 0?void 0:P.getFieldsValue(),$);if(E==null||(_=E.onReset)===null||_===void 0||_.call(E,m),T?.(m),t){var n,u=Object.keys(y((n=f.current)===null||n===void 0?void 0:n.getFieldsValue(),!1)).reduce(function(Z,S){return(0,o.Z)((0,o.Z)({},Z),{},(0,D.Z)({},S,m[S]||void 0))},i);K(se(t,u,"set"))}},submitButtonProps:(0,o.Z)({loading:A},E.submitButtonProps)}),"submitter")},[V,E,A,y,$,T,t,i,K]),Fe=(0,s.useMemo)(function(){var l=he?(0,M.jsx)(Ce,{children:B}):B;return p?p(l,Me,f.current):l},[he,Ce,B,p,Me]),ve=(0,Ve.D)(r.initialValues);return(0,s.useEffect)(function(){if(!(t||!r.initialValues||!ve||Y.request)){var l=(0,xe.A)(r.initialValues,ve);(0,le.ET)(l,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),(0,le.ET)(l,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[r.initialValues]),(0,s.useImperativeHandle)(J,function(){return(0,o.Z)((0,o.Z)({},f.current),Ae)},[]),(0,s.useEffect)(function(){var l,P,_=y((l=f.current)===null||l===void 0||(P=l.getFieldsValue)===null||P===void 0?void 0:P.call(l,!0),$);ue?.(_,f.current)},[]),(0,M.jsx)(Be.J.Provider,{value:Ae,children:(0,M.jsx)(a.ZP,{componentSize:Y.size||me,children:(0,M.jsxs)(_e._p.Provider,{value:{grid:he,colProps:x},children:[Y.component!==!1&&(0,M.jsx)("input",{type:"text",style:{display:"none"}}),Fe]})})})}var c=0;function G(r){var h=r.extraUrlParams,C=h===void 0?{}:h,p=r.syncToUrl,V=r.isKeyPressSubmit,z=r.syncToUrlAsImportant,oe=z===void 0?!1:z,de=r.syncToInitialValues,y=de===void 0?!0:de,J=r.children,ue=r.contentRender,I=r.submitter,A=r.fieldProps,$e=r.proFieldProps,R=r.formItemProps,i=r.groupProps,t=r.dateFormatter,K=t===void 0?"string":t,T=r.formRef,ze=r.onInit,$=r.form,ge=r.formComponentType,Ye=r.onReset,Ee=r.grid,he=r.rowProps,Je=r.colProps,x=r.omitNil,Y=x===void 0?!0:x,d=r.request,Ze=r.params,me=r.initialValues,f=r.formKey,Xe=f===void 0?c:f,Ce=r.readonly,ne=r.onLoadingChange,Ae=r.loading,B=(0,pe.Z)(r,N),E=(0,s.useRef)({}),Me=(0,v.Z)(!1,{onChange:ne,value:Ae}),Fe=(0,O.Z)(Me,2),ve=Fe[0],l=Fe[1],P=(0,H.l)({},{disabled:!p}),_=(0,O.Z)(P,2),m=_[0],n=_[1],u=(0,s.useRef)((0,De.x)());(0,s.useEffect)(function(){c+=0},[]);var Z=(0,Se.$)({request:d,params:Ze,proFieldKey:Xe}),S=(0,O.Z)(Z,1),j=S[0],ar=(0,s.useContext)(a.ZP.ConfigContext),lr=ar.getPrefixCls,er=lr("pro-form"),rr=(0,be.Xj)("ProForm",function(w){return(0,D.Z)({},".".concat(er),(0,D.Z)({},"> div:not(".concat(w.proComponentsCls,"-form-light-filter)"),{".pro-field":{maxWidth:"100%","&-xs":{width:104},"&-s":{width:216},"&-sm":{width:216},"&-m":{width:328},"&-md":{width:328},"&-l":{width:440},"&-lg":{width:440},"&-xl":{width:552}}}))}),ir=rr.wrapSSR,sr=rr.hashId,dr=(0,s.useState)(function(){return p?se(p,m,"get"):{}}),or=(0,O.Z)(dr,2),nr=or[0],ur=or[1],we=(0,s.useRef)({}),Qe=(0,s.useRef)({}),ke=(0,s.useCallback)(function(w,U,W){return(0,ce.M)((0,je.lp)(w,K,Qe.current,U,W),we.current,U)},[K]);(0,s.useEffect)(function(){y||ur({})},[y]),(0,s.useEffect)(function(){p&&n((0,o.Z)((0,o.Z)({},m),C))},[C,p]);var mr=(0,s.useMemo)(function(){if(!(typeof window>"u")&&ge&&["DrawerForm"].includes(ge))return function(w){return w.parentNode||document.body}},[ge]),vr=(0,ye.J)((0,X.Z)((0,q.Z)().mark(function w(){var U,W,Q,Ke,He,fe;return(0,q.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(B.onFinish){b.next=2;break}return b.abrupt("return");case 2:if(!ve){b.next=4;break}return b.abrupt("return");case 4:return l(!0),b.prev=5,Q=E==null||(U=E.current)===null||U===void 0||(W=U.getFieldsFormatValue)===null||W===void 0?void 0:W.call(U),b.next=9,B.onFinish(Q);case 9:p&&(fe=Object.keys(E==null||(Ke=E.current)===null||Ke===void 0||(He=Ke.getFieldsFormatValue)===null||He===void 0?void 0:He.call(Ke,void 0,!1)).reduce(function(Ue,tr){var qe;return(0,o.Z)((0,o.Z)({},Ue),{},(0,D.Z)({},tr,(qe=Q[tr])!==null&&qe!==void 0?qe:void 0))},C),Object.keys(m).forEach(function(Ue){fe[Ue]!==!1&&fe[Ue]!==0&&!fe[Ue]&&(fe[Ue]=void 0)}),n(se(p,fe,"set"))),l(!1),b.next=17;break;case 13:b.prev=13,b.t0=b.catch(5),console.log(b.t0),l(!1);case 17:case"end":return b.stop()}},w,null,[[5,13]])})));return(0,s.useImperativeHandle)(T,function(){return E.current},[!j]),!j&&r.request?(0,M.jsx)("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"},children:(0,M.jsx)(L.Z,{})}):ir((0,M.jsx)(ie.A.Provider,{value:{mode:r.readonly?"read":"edit"},children:(0,M.jsx)(We._Y,{needDeps:!0,children:(0,M.jsx)(F.Z.Provider,{value:{formRef:E,fieldProps:A,proFieldProps:$e,formItemProps:R,groupProps:i,formComponentType:ge,getPopupContainer:mr,formKey:u.current,setFieldValueType:function(U,W){var Q=W.valueType,Ke=Q===void 0?"text":Q,He=W.dateFormat,fe=W.transform;Array.isArray(U)&&(we.current=(0,ee.Z)(we.current,U,fe),Qe.current=(0,ee.Z)(Qe.current,U,{valueType:Ke,dateFormat:He}))}},children:(0,M.jsx)(g.J.Provider,{value:{},children:(0,M.jsx)(te.Z,(0,o.Z)((0,o.Z)({onKeyPress:function(U){if(V&&U.key==="Enter"){var W;(W=E.current)===null||W===void 0||W.submit()}},autoComplete:"off",form:$},(0,Ie.Z)(B,["labelWidth","autoFocusFirstInput"])),{},{initialValues:oe?(0,o.Z)((0,o.Z)((0,o.Z)({},me),j),nr):(0,o.Z)((0,o.Z)((0,o.Z)({},nr),me),j),onValuesChange:function(U,W){var Q;B==null||(Q=B.onValuesChange)===null||Q===void 0||Q.call(B,ke(U,!!Y),ke(W,!!Y))},className:Ne()(r.className,er,sr),onFinish:vr,children:(0,M.jsx)(Te,(0,o.Z)((0,o.Z)({transformKey:ke,autoComplete:"off",loading:ve,onUrlSearchChange:n},r),{},{formRef:E,initialValues:(0,o.Z)((0,o.Z)({},me),j)}))}))})})})}))}},9105:(Ge,k,e)=>{e.d(k,{A:()=>D});var O=e(67294),D=O.createContext({mode:"edit"})},97808:(Ge,k,e)=>{e.d(k,{M:()=>H});var O=e(4942),D=e(1413),o=e(29439),q=e(44925),X=e(21770),pe=e(86190),We=e(23312),Le=e(92124),ye=e(93035),Ve=e(58331),xe=e(94184),Be=e.n(xe),v=e(67294),De=e(98082),Se=function(a){var L;return L={},(0,O.Z)(L,"".concat(a.componentCls,"-collapse-label"),{paddingInline:1,paddingBlock:1}),(0,O.Z)(L,"".concat(a.componentCls,"-container"),(0,O.Z)({},"".concat(a.antCls,"-form-item"),{marginBlockEnd:0})),L};function be(te){return(0,De.Xj)("LightWrapper",function(a){var L=(0,D.Z)((0,D.Z)({},a),{},{componentCls:".".concat(te)});return[Se(L)]})}var ce=e(85893),je=["label","size","disabled","onChange","className","style","children","valuePropName","placeholder","labelFormatter","bordered","footerRender","allowClear","otherFieldProps","valueType","placement"],H=function(a){var L,Oe=a.label,Ne=a.size,Ie=a.disabled,ae=a.onChange,ee=a.className,le=a.style,s=a.children,Pe=a.valuePropName,g=a.placeholder,F=a.labelFormatter,_e=a.bordered,ie=a.footerRender,M=a.allowClear,re=a.otherFieldProps,N=a.valueType,se=a.placement,Re=(0,q.Z)(a,je),Te=(0,v.useContext)(Ve.ZP.ConfigContext),c=Te.getPrefixCls,G=c("pro-field-light-wrapper"),r=be(G),h=r.wrapSSR,C=r.hashId,p=(0,v.useState)(a[Pe]),V=(0,o.Z)(p,2),z=V[0],oe=V[1],de=(0,X.Z)(!1),y=(0,o.Z)(de,2),J=y[0],ue=y[1],I=function(){for(var i,t=arguments.length,K=new Array(t),T=0;T<t;T++)K[T]=arguments[T];re==null||(i=re.onChange)===null||i===void 0||i.call.apply(i,[re].concat(K)),ae?.apply(void 0,K)},A=a[Pe],$e=(0,v.useMemo)(function(){var R;return N!=null&&(R=N.toLowerCase())!==null&&R!==void 0&&R.endsWith("range")&&N!=="digitRange"&&!F?(0,pe.c)(A,We.Cl[N]||"YYYY-MM-DD"):A},[A,N,F]);return h((0,ce.jsx)(Le.M,{disabled:Ie,open:J,onOpenChange:ue,placement:se,label:(0,ce.jsx)(ye.Q,{ellipsis:!0,size:Ne,onClear:function(){I?.(),oe("")},bordered:_e,style:le,className:ee,label:Oe,placeholder:g,value:$e,disabled:Ie,expanded:J,formatter:F,allowClear:M}),footer:{onClear:function(){return oe("")},onConfirm:function(){I?.(z),ue(!1)}},footerRender:ie,children:(0,ce.jsx)("div",{className:Be()("".concat(G,"-container"),C,ee),style:le,children:v.cloneElement(s,(0,D.Z)((0,D.Z)({},Re),{},(L={},(0,O.Z)(L,Pe,z),(0,O.Z)(L,"onChange",function(i){oe(i!=null&&i.target?i.target.value:i)}),L),s.props))})}))}},74115:(Ge,k,e)=>{e.d(k,{G:()=>Ie});var O=e(4942),D=e(29439),o=e(1413),q=e(44925),X=e(51812),pe=e(73948),We=e(26369),Le=e(60249),ye=e(94184),Ve=e.n(ye),xe=e(63974),Be=e(80334),v=e(67294),De=e(30939),Se=e(59001),be=e(97462),ce=e(66758),je=e(2514),H=e(85893),te=["valueType","customLightMode","lightFilterLabelFormatter","valuePropName","ignoreWidth","defaultProps"],a=["label","tooltip","placeholder","width","bordered","messageVariables","ignoreFormItem","transform","convertValue","readonly","allowClear","colSize","getFormItemProps","getFieldProps","filedConfig","cacheForSwr","proFieldProps"],L=Symbol("ProFormComponent"),Oe={xs:104,s:216,sm:216,m:328,md:328,l:440,lg:440,xl:552},Ne=["switch","radioButton","radio","rate"];function Ie(ae,ee){ae.displayName="ProFormComponent";var le=function(g){var F=(0,o.Z)((0,o.Z)({},g?.filedConfig),ee)||{},_e=F.valueType,ie=F.customLightMode,M=F.lightFilterLabelFormatter,re=F.valuePropName,N=re===void 0?"value":re,se=F.ignoreWidth,Re=F.defaultProps,Te=(0,q.Z)(F,te),c=(0,o.Z)((0,o.Z)({},Re),g),G=c.label,r=c.tooltip,h=c.placeholder,C=c.width,p=c.bordered,V=c.messageVariables,z=c.ignoreFormItem,oe=c.transform,de=c.convertValue,y=c.readonly,J=c.allowClear,ue=c.colSize,I=c.getFormItemProps,A=c.getFieldProps,$e=c.filedConfig,R=c.cacheForSwr,i=c.proFieldProps,t=(0,q.Z)(c,a),K=_e||t.valueType,T=(0,v.useMemo)(function(){return se||Ne.includes(K)},[se,K]),ze=(0,v.useState)(),$=(0,D.Z)(ze,2),ge=$[1],Ye=(0,v.useState)(),Ee=(0,D.Z)(Ye,2),he=Ee[0],Je=Ee[1],x=v.useContext(ce.Z),Y=(0,v.useMemo)(function(){return{formItemProps:I?.(),fieldProps:A?.()}},[A,I,t.dependenciesValues,he]),d=(0,v.useMemo)(function(){var n=(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},z?(0,X.Y)({value:t.value}):{}),{},{placeholder:h,disabled:g.disabled},x.fieldProps),Y.fieldProps),t.fieldProps);return n.style=(0,X.Y)(n?.style),n},[z,t.value,t.fieldProps,h,g.disabled,x.fieldProps,Y.fieldProps]),Ze=(0,pe.v)(t),me=(0,v.useMemo)(function(){return(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},x.formItemProps),Ze),Y.formItemProps),t.formItemProps)},[Y.formItemProps,x.formItemProps,t.formItemProps,Ze]),f=(0,v.useMemo)(function(){return(0,o.Z)((0,o.Z)({messageVariables:V},Te),me)},[Te,me,V]);(0,Be.ET)(!t.defaultValue,"\u8BF7\u4E0D\u8981\u5728 Form \u4E2D\u4F7F\u7528 defaultXXX\u3002\u5982\u679C\u9700\u8981\u9ED8\u8BA4\u503C\u8BF7\u4F7F\u7528 initialValues \u548C initialValue\u3002");var Xe=(0,v.useContext)(xe.zb),Ce=Xe.prefixName,ne=(0,v.useMemo)(function(){var n,u=f?.name;Array.isArray(u)&&(u=u.join("_")),Array.isArray(Ce)&&u&&(u="".concat(Ce.join("."),".").concat(u));var Z=u&&"form-".concat((n=x.formKey)!==null&&n!==void 0?n:"","-field-").concat(u);return Z},[(0,De.P)(f?.name),Ce,x.formKey]),Ae=(0,We.D)(t),B=(0,v.useCallback)(function(){var n;I||A?Je([]):t.renderFormItem&&ge([]);for(var u=arguments.length,Z=new Array(u),S=0;S<u;S++)Z[S]=arguments[S];d==null||(n=d.onChange)===null||n===void 0||n.call.apply(n,[d].concat(Z))},[A,I,d,t.renderFormItem]),E=(0,v.useMemo)(function(){var n=(0,o.Z)({width:C&&!Oe[C]?C:x.grid?"100%":void 0},d?.style);return T&&Reflect.deleteProperty(n,"width"),(0,X.Y)(n)},[(0,De.P)(d?.style),x.grid,T,C]),Me=(0,v.useMemo)(function(){var n=C&&Oe[C];return Ve()(d?.className,(0,O.Z)({"pro-field":n},"pro-field-".concat(C),n&&!T))||void 0},[C,d?.className,T]),Fe=(0,v.useMemo)(function(){return(0,X.Y)((0,o.Z)((0,o.Z)({},x.proFieldProps),{},{mode:t?.mode,readonly:y,params:t.params,proFieldKey:ne,cacheForSwr:R},i))},[t?.mode,t.params,y,ne,R,i]),ve=(0,v.useMemo)(function(){return(0,o.Z)((0,o.Z)({onChange:B,allowClear:J},d),{},{style:E,className:Me})},[J,Me,B,d,E]),l=(0,v.useMemo)(function(){return(0,H.jsx)(ae,(0,o.Z)((0,o.Z)({},t),{},{fieldProps:ve,proFieldProps:Fe,ref:g?.fieldRef}),g.proFormFieldKey||g.name)},[Fe,ve,(0,Le.A)(Ae,t,["onChange","onBlur","onFocus","record"])?void 0:{}]),P=(0,v.useMemo)(function(){var n,u,Z,S;return(0,H.jsx)(Se.Z,(0,o.Z)((0,o.Z)({label:G&&i?.light!==!0?G:void 0,tooltip:i?.light!==!0&&r,valuePropName:N},f),{},{ignoreFormItem:z,transform:oe,dataFormat:d?.format,valueType:K,messageVariables:(0,o.Z)({label:G||""},f?.messageVariables),convertValue:de,lightProps:(0,X.Y)((0,o.Z)((0,o.Z)((0,o.Z)({},d),{},{valueType:K,bordered:p,allowClear:(u=l==null||(Z=l.props)===null||Z===void 0?void 0:Z.allowClear)!==null&&u!==void 0?u:J,light:i?.light,label:G,customLightMode:ie,labelFormatter:M,valuePropName:N,footerRender:l==null||(S=l.props)===null||S===void 0?void 0:S.footerRender},t.lightProps),f.lightProps)),children:l}),g.proFormFieldKey||((n=f.name)===null||n===void 0?void 0:n.toString()))},[G,i?.light,r,N,g.proFormFieldKey,f,z,oe,d,K,de,p,l,J,ie,M,t.lightProps]),_=(0,je.zx)(t),m=_.ColWrapper;return(0,H.jsx)(m,{children:P})},s=function(g){var F=g.dependencies;return F?(0,H.jsx)(be.Z,{name:F,children:function(ie){return(0,H.jsx)(le,(0,o.Z)({dependenciesValues:ie,dependencies:F},g))}}):(0,H.jsx)(le,(0,o.Z)({dependencies:F},g))};return s}},66758:(Ge,k,e)=>{e.d(k,{Z:()=>o,z:()=>D});var O=e(67294),D=O.createContext({});const o=D}}]);
