"use strict";(self.webpackChunkadmin_fe=self.webpackChunkadmin_fe||[]).push([[440],{8190:(I,i,e)=>{e.d(i,{oE:()=>v,vB:()=>E});const E={0:{text:"\u5F85\u5904\u7406",code:"0"},1:{text:"\u8D44\u6599\u586B\u62A5\u4E2D",code:"1"},2:{text:"\u8D44\u6599\u5DF2\u586B\u62A5\u5B8C\u6210",code:"2"},3:{text:"\u6682\u4E0D\u5408\u4F5C",code:"5"}},v=[{value:"guangdong",label:"\u5E7F\u4E1C",children:[{label:"\u5E7F\u5DDE",value:"guangzhou"},{label:"\u6DF1\u5733",value:"shenzhen"}]},{label:"\u4E91\u5357",value:"yunnan",children:[{value:"kunming",label:"\u6606\u660E"},{value:"qujing",label:"\u66F2\u9756"}]}],D={N:{text:"\u672A\u53D8\u66F4",code:"N"},Y:{text:"\u5DF2\u53D8\u66F4",code:"Y"}}},51440:(I,i,e)=>{e.r(i),e.d(i,{default:()=>S});var E=e(88674),v=e.n(E),D=e(66992),Z=e.n(D),f=e(33948),z=e.n(f),p=e(90631),R=e(25291),y=e(71577),M=e(81394),O=e(8190),T=e(44963),d=e(67294),h=e(27484),C=e.n(h),x=e(89250),B=e(79655),_=e(85893);const L=async()=>{const{data:t}=await T.FR.post("/cityList");return t},j=async t=>({data:(await T.FR.post("/factory/list",t)).data.list,success:!0}),A=t=>new Promise((s,l)=>{console.log(t,"dataparams");const n={code:0,message:"success",data:[{Modified:"\u7406\u60F3",city:"\u5E7F\u5DDE",date:"2022-02-23",datetime:"2022-02-23 18:30"},{Modified:"\u73B0\u5B9E",city:"\u6DF1\u5733",date:"2022-04-11",datetime:"2022-02-11 18:45"}]};setTimeout(()=>{s(n)},2e3)}),K=[{title:"\u6392\u5E8F",dataIndex:"index",valueType:"index",width:48},{title:"\u57CE\u5E02",valueType:"select",dataIndex:"city",key:"value",request:L},{title:"\u7EA7\u8054\u9009\u62E9",dataIndex:"provinces",hideInTable:!0,search:{},valueType:"cascader",request:()=>O.oE},{title:"\u72B6\u6001",dataIndex:"progress",valueType:"select",valueEnum:O.vB},{title:"\u65F6\u95F4\u533A\u95F4",key:"dateTimeRange",dataIndex:"createdAtRange",valueType:"dateTimeRange",search:{transform:t=>(console.log(t,"test"),{startTime:t[0],endTime:t[1]})}},{title:"\u7ED3\u679C",dataIndex:"result",ellipsis:!0,search:!1,renderFormItem:(t,{type:s,defaultRender:l,formItemProps:n,fieldProps:m,...P},c)=>l()},{title:"\u65F6\u95F4",tip:"form\u7684tip",ellipsis:!0,tooltip:"table\u7684tip",dataIndex:"date",valueType:"date"},{title:"\u4FEE\u6539\u4EBA",dataIndex:"Modified"},{title:"\u56FE\u7247",dataIndex:"image",valueType:"image",hideInSearch:!0},{title:"\u5907\u6CE8",dataIndex:"memo",ellipsis:!0,copyable:!0,renderFormItem:(t,{type:s,defaultRender:l,formItemProps:n,fieldProps:m,...P},c)=>l()},{title:"\u64CD\u4F5C",width:80,key:"option",valueType:"option",fixed:"right",render:(t,s,l,n)=>[(0,_.jsx)("a",{onClick:()=>{n.startEditable(s.key)},children:"\u7F16\u8F91"},"edit")]}],S=()=>{const t=(0,x.s0)(),[s,l]=(0,B.lr)();console.log(s.get("name"));const n=(0,d.useRef)();(0,d.useEffect)(()=>{},[]);const[m,P]=(0,d.useState)([]),[c,g]=(0,d.useState)([]),[r,U]=(0,d.useState)([]);function W(o,a){U(a),P(o)}return(0,_.jsx)(R.Z,{columns:K,params:{userName:"test"},request:(o,a,u)=>{console.log(o,a,u);const F=C()().format(o.data);console.log(F);const{data:N}=A(o);return g(N),j(o)},rowKey:"key",dataSource:c,actionRef:n,pagination:{showQuickJumper:!0,pageSize:10},search:{layout:"horizontal",defaultCollapsed:!0,optionRender:(o,a,u)=>[u,(0,_.jsx)(y.ZP,{type:"primary",icon:(0,_.jsx)(p.Z,{}),children:"\u4E0B\u8F7D\u62A5\u8868"},"download")]},options:{fullScreen:!0},rowSelection:{selections:[M.Z.SELECTION_ALL,M.Z.SELECTION_INVERT,{key:"other",text:"\u5176\u4ED6\u7B5B\u9009",onSelect:o=>{console.log(o,"rowSelection")}}],selectedRowKeys:m,onChange:W,type:"radio"},scroll:{x:1300},dateFormatter:"string",editable:{onSave:async(o,a,u)=>{console.log(a,"saveData")},onDelete:(o,a)=>{console.log(c,"dataSource")},onValuesChange:(o,a)=>{g(a)}},toolbar:{title:"\u9AD8\u7EA7\u8868\u683C",tooltip:"\u8FD9\u662F\u4E00\u4E2A\u6807\u9898\u63D0\u793A"},toolBarRender:()=>[(0,_.jsx)(y.ZP,{disabled:!(r!=null&&r.length),type:"primary",onClick:o=>{const{key:a=""}=r?.[0];t(`/table/detail?id=${a}`)},children:"\u67E5\u770B\u8BE6\u60C5"})]})}}}]);
