"use strict";(self.webpackChunkadmin_fe=self.webpackChunkadmin_fe||[]).push([[143],{44963:(O,r,t)=>{t.d(r,{FR:()=>h,yq:()=>y,uf:()=>U,dW:()=>c});var u=t(88674),I=t(52861);let d=null,o=0;const f=()=>{o++},l=()=>{o--,o===0&&d?.close()},T=i=>{const A=I.Z.create({baseURL:"/dev-api",headers:{"x-access-token":"bqddxxwqmfncffacvbpkuxvwvqrhln"},timeout:3e3,withCredentials:!0,...i});return A.interceptors.request.use(function(m){const{loading:v=!0}=m;return v&&f(),m},function(m){return Promise.reject(m)}),A.interceptors.response.use(function(m){const{loading:v=!0,notify:L=!1}=m.config;v&&l();const{code:W,data:N,message:H,cache:$,timeout:b}=m.data;return m.data},function(m){const{loading:v=!0}=m.config;return v&&l(),m.response&&m.response.status,Promise.reject(m)}),A},s=T({}),y=i=>s.post("/login",{...i}),c=i=>s.post("/userInfo",{token:i}),U=i=>s.post("/logout",{token:i}),h=T({baseURL:"https://mock.apifox.cn/m1/1225980-0-default"})},58646:(O,r,t)=>{var u=t(67294),I=t(20745),d=t(86706),o=t(79144),f=t(14890),l=t(53894),g=t(75544),T=t(84595);const s={name:"",role:"",avatar:"",token:(0,T.LP)(),userInfo:(0,T.bG)(),collapsed:!1};function y(e=s,n){switch(n.type){case g.rw:return{...e,token:n.token};case g.rG:return{...e,userInfo:n.userInfo};case g._U:return{...e,collapsed:n.collapsed};case g.IR:return{};default:return e}}var c=t(9994);const U={tabList:[{label:"\u9996\u9875",key:"/home",closable:!1}],activeKey:"/home",pageConfig:{layoutItems:["tabs","breadcrumb","logo","pageFooter"]}};function h(e=U,n){switch(n.type){case c.zJ:return{...e,tabList:n.tabList};case c.Rr:return{...e,tabList:n.tabList};case c.L6:return{...e,tabList:n.tabList};case c.tY:return{...e,tabList:n.tabList};case c.GK:return{...e,activeKey:n.activeKey};case c.mf:return{...e,pageConfig:{layoutItems:n.layoutItems}};default:return e}}var i=t(14269);const A={themeMode:{isGrey:!1,isColorWeakness:!1},token:{colorPrimary:"#1677ff",fontSize:16},componentSize:"middle"};function m(e=A,n){switch(n.type){case i.K9:return{...e,token:{...e.token,colorPrimary:n.colorPrimary}};case i.Hj:return{...e,componentSize:n.componentSize};case i.M$:return{...e,themeMode:n.themeMode};default:return e}}const v=(0,f.UY)({global:y,topHeader:h,theme:m});var L=t(99244),W=t(76734);const N={key:"root",storage:W.Z,whitelist:["topHeader","theme"]},H=(0,L.OJ)(N,v),$=(0,f.MT)(H,(0,f.md)(l.Z)),b=(0,L.p5)($),_=$;var tt=t(79655),k=t(797),J=t(89250),et=t(12599),ht=t(18655);const nt=e=>{const n=(0,J.s0)(),a=(0,d.v9)(S=>S.global),{pathname:P}=(0,J.TH)(),j=(0,J.TH)(),K=(0,et.fp)(k.H,j),{token:p,userInfo:z}=a,G=K.find(S=>S.pathname===P),{route:M}=G;return(0,u.useEffect)(()=>{var S,F,V,Y,X,Q;if(!p&&P!=="/login")return n("/login",{replace:!0});if(p&&P==="/login")return n("/home",{replace:!0});if(z?.role!=="admin"&&M!==null&&M!==void 0&&(S=M.meta)!==null&&S!==void 0&&(F=S.auth)!==null&&F!==void 0&&(V=F.roles)!==null&&V!==void 0&&V.length&&!(M!=null&&(Y=M.meta)!==null&&Y!==void 0&&(X=Y.auth)!==null&&X!==void 0&&(Q=X.roles)!==null&&Q!==void 0&&Q.includes(z.role)))return n("/error",{replace:!0})},[p,P]),e.children};var st=t(96171),D=t(85893);const ot=()=>{const{token:e,componentSize:n}=(0,d.v9)(a=>a.theme);return(0,D.jsx)(st.ZP,{componentSize:n,theme:{token:{...e}},children:(0,D.jsx)(tt.UT,{children:(0,D.jsx)(nt,{children:(0,D.jsx)(k.Z,{})})})})};var lt=t(15623),E=t.n(lt);const B={superAdmin:"superAdmin-token",admin:"admin-token",guest:"guest-token",editor:"editor-token"},C={"admin-token":{id:"admin",role:"admin",name:"Admin",avatar:"https://img.zcool.cn/community/01e35e564c6f4432f87512f6a7b0a4.jpg@1280w_1l_2o_100sh.jpg",description:"\u62E5\u6709\u7CFB\u7EDF\u5185\u6240\u6709\u83DC\u5355\u548C\u8DEF\u7531\u6743\u9650"},"editor-token":{id:"editor",role:"editor",name:"\u7F16\u8F91\u5458",avatar:"https://ts1.cn.mm.bing.net/th/id/R-C.459039f30e0cb09ba4e51528e644baf9?rik=QhVWJBtMUMsp9A&riu=http%3a%2f%2fimg.zcool.cn%2fcommunity%2f01514355cdbab56ac725baa0130899.jpg%401280w_1l_2o_100sh.jpg&ehk=UuPnllBZxS8kgx67AgpNwor%2fUc0SpTHAAVvXpEKFZwU%3d&risl=&pid=ImgRaw&r=0F",description:"\u53EF\u4EE5\u770B\u5230\u9664\u6237\u7BA1\u7406\u9875\u9762\u4E4B\u5916\u7684\u6240\u6709\u9875\u9762"},"guest-token":{id:"guest",role:"guest",name:"\u6E38\u5BA2",avatar:"https://joesch.moe/api/v1/random",description:"\u4EC5\u80FD\u770B\u5230Dashboard\u3001\u4F5C\u8005\u535A\u5BA2\u3001\u6743\u9650\u6D4B\u8BD5\u548C\u5173\u4E8E\u4F5C\u8005\u56DB\u4E2A\u9875\u9762"}},R={login:e=>{const{username:n}=JSON.parse(e.body),a=B[n];return a?{status:0,token:a}:{status:1,message:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF"}},userInfo:e=>{const{token:n}=JSON.parse(e.body),a=C[n];return a?{status:0,userInfo:a}:{status:1,message:"\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u5931\u8D25"}},getUsers:()=>({status:0,users:Object.values(C)}),deleteUser:e=>{const{id:n}=JSON.parse(e.body),a=B[n];return a&&(delete B[n],delete C[a]),{status:0}},editUser:e=>{const n=JSON.parse(e.body),{id:a}=n,P=B[a];return P&&(C[P]={...C[P],...n}),{status:0}},ValidatUserID:e=>{const n=e.body;return B[n]?{status:1}:{status:0}},addUser:e=>{const n=JSON.parse(e.body),{id:a}=n;return B[a]=`${a}-token`,C[`${a}-token`]={...C["guest-token"],...n},{status:0}},logout:e=>({status:0,data:"success"})},w=[],at=20;for(let e=0;e<at;e++)w.push(E().mock({key:"@increment",order_no:"@guid()",price:"@float(1000, 15000, 0, 2)","tag|1":["success","pending"]}));const dt={transactionList:e=>({code:2e4,data:{items:w}})},q=[],mt=20;for(let e=0;e<mt;e++)q.push(E().mock({id:"@increment",title:"@ctitle(5, 10)",author:"@cname",readings:"@integer(300, 5000)",date:"@datetime"}));const rt={excelList:e=>({code:2e4,data:{items:q}})};let x=[];const it=100;for(let e=0;e<it;e++)x.push(E().mock({id:e,title:"@ctitle(5, 10)",author:"@cname",readings:"@integer(300, 5000)","star|1-3":"\u2605","status|1":["published","draft"],date:"@datetime"}));const Z={tableList:e=>{const{pageNumber:n,pageSize:a,title:P,status:j,star:K}=JSON.parse(e.body);let p=(n-1)*a,z=n*a,G=x.filter(S=>!(K&&S.star.length!==K||j&&S.status!==j||P&&S.title.indexOf(P)<0)),M=G.slice(p,z);return{code:2e4,data:{total:G.length,items:M}}},deleteItem:e=>{const{id:n}=JSON.parse(e.body),a=x.filter(j=>j.id===n),P=x.indexOf(a[0]);return x.splice(P,1),{code:2e4}},editItem:e=>{const n=JSON.parse(e.body),{id:a}=n,P=x.filter(K=>K.id===a),j=x.indexOf(P[0]);return x.splice(j,1,n),{code:2e4}}},ut={monitor:e=>({status:1,message:"monitor"})};E().mock(/\/login/,"post",R.login),E().mock(/\/logout/,"post",R.logout),E().mock(/\/userInfo/,"post",R.userInfo),E().mock(/\/user\/list/,"get",R.getUsers),E().mock(/\/user\/delete/,"post",R.deleteUser),E().mock(/\/user\/edit/,"post",R.editUser),E().mock(/\/user\/validatUserID/,"post",R.ValidatUserID),E().mock(/\/user\/add/,"post",R.addUser),E().mock(/\/transaction\/list/,"get",dt.transactionList),E().mock(/\/excel\/list/,"get",rt.excelList),E().mock(/\/table\/list/,"post",Z.tableList),E().mock(/\/table\/delete/,"post",Z.deleteItem),E().mock(/\/table\/edit/,"post",Z.editItem),E().mock(/\/monitor/,"post",ut.monitor);const gt=null,ct=document.getElementById("root");(0,I.s)(ct).render((0,D.jsx)(d.zt,{store:_,children:(0,D.jsx)(o.r,{persistor:b,children:(0,D.jsx)(ot,{})})}))},797:(O,r,t)=>{t.d(r,{H:()=>c,Z:()=>h});var u=t(66992),I=t.n(u),d=t(88674),o=t.n(d),f=t(33948),l=t.n(f),g=t(89250),T=t(67294),s=t(16262),y=t(85893);const c=[{path:"/",element:(0,y.jsx)(g.Fg,{to:"/home"})},{path:"/login",element:(0,s.u)((0,T.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(286),t.e(284)]).then(t.bind(t,76284))))},{element:(0,s.u)((0,T.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(44),t.e(286),t.e(77),t.e(786)]).then(t.bind(t,61786)))),children:[...s.Z]},{path:"*",element:(0,s.u)((0,T.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(337)]).then(t.bind(t,51337))))}],h=()=>(0,g.V$)(c)},16262:(O,r,t)=>{t.d(r,{Z:()=>c,u:()=>s});var u=t(66992),I=t(88674),d=t(33948),o=t(67294),f=t(36646),l=t(85893);const g=()=>(0,l.jsx)("div",{children:(0,l.jsx)("h2",{children:"GridLayout"})}),T=()=>(0,l.jsx)("div",{children:(0,l.jsx)("h2",{children:"search-panel2"})});function s(U){return(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)(f.Z,{size:"large",style:{display:"flex",alignItems:"center",justifyContent:"center"}}),children:(0,l.jsx)(U,{})})}const c=[{path:"/home",element:s((0,o.lazy)(()=>t.e(668).then(t.bind(t,32668)))),meta:{title:"\u9996\u9875"}},{path:"/form",meta:{title:"\u8868\u5355"},children:[{path:"/form/dynamic",element:s((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(427)]).then(t.bind(t,4427)))),meta:{title:"\u52A8\u6001\u8868\u5355"}},{path:"/form/steps",element:s((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(44),t.e(61),t.e(364)]).then(t.bind(t,76364)))),meta:{title:"\u5206\u6B65\u8868\u5355"}}]},{path:"/table",meta:{title:"\u8868\u683C Table"},children:[{path:"/table/pro",element:s((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(44),t.e(61),t.e(702),t.e(440)]).then(t.bind(t,51440)))),meta:{title:"\u67E5\u8BE2\u8868\u683C"}},{path:"/table/detail",element:s((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(44),t.e(964)]).then(t.bind(t,53916)))),meta:{hideInMenu:!0,title:"\u8868\u683C\u8BE6\u60C5"}},{path:"/table/edit",element:s((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(44),t.e(61),t.e(702),t.e(14)]).then(t.bind(t,92014)))),meta:{title:"\u7F16\u8F91\u8868\u683C"}}]},{path:"/auth",meta:{title:"\u6743\u9650\u7BA1\u7406"},children:[{path:"/auth/page",element:s((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(395)]).then(t.bind(t,25395)))),meta:{title:"\u754C\u9762\u6743\u9650"}},{path:"/auth/comp",element:s((0,o.lazy)(()=>Promise.all([t.e(24),t.e(203),t.e(512),t.e(714),t.e(44),t.e(764)]).then(t.bind(t,86764)))),meta:{title:"\u6309\u94AE\u7B49\u5176\u4ED6\u6743\u9650\u63A7\u5236",auth:{permissionBtn:["save"]}}},{path:"/auth/admin",element:s((0,o.lazy)(()=>Promise.all([t.e(203),t.e(584)]).then(t.bind(t,7584)))),meta:{title:"Auth-Admin-page",auth:{roles:["admin"]}}},{path:"/auth/editor",element:s((0,o.lazy)(()=>Promise.all([t.e(203),t.e(920)]).then(t.bind(t,20920)))),meta:{title:"Auth-Editor-Page",auth:{roles:["editor"]}}},{path:"/auth/guest",element:s((0,o.lazy)(()=>Promise.all([t.e(203),t.e(604)]).then(t.bind(t,25604)))),meta:{title:"Auth-Guest-Page",auth:{roles:["guest"]}}},{path:"/auth/editor-guest",element:s((0,o.lazy)(()=>Promise.all([t.e(203),t.e(393)]).then(t.bind(t,95393)))),meta:{title:"Auth-Editor & Guest-Page",auth:{roles:["guest","editor"]}}}]},{path:"/assembly",meta:{title:"\u5E38\u7528\u7EC4\u4EF6"},children:[{path:"/assembly/grid-layout",element:(0,l.jsx)(g,{}),meta:{title:"\u5E03\u5C40\u7EC4\u4EF6"}},{path:"/assembly/search-panel2",element:(0,l.jsx)(T,{}),meta:{title:"\u67E5\u8BE2\u7EC4\u4EF62"}}]},{path:"/menu",meta:{title:"\u83DC\u5355\u5D4C\u5957"},children:[{path:"/menu/menu-1",element:(0,l.jsx)("h2",{children:"menu-1"}),meta:{title:"\u83DC\u5355 menu-1"}},{path:"/menu/menu-2",meta:{title:"\u83DC\u5355 menu-2"},children:[{path:"/menu/menu-2/menu-2-1",element:(0,l.jsx)("h2",{children:"menu-2-1"}),meta:{title:"menu-2-1"}},{path:"/menu/menu-2/menu-2-2",element:(0,l.jsx)("h2",{children:"menu-2-2"}),meta:{title:"menu-2-2"}},{path:"/menu/menu-2/menu-2-3",element:(0,l.jsx)("h2",{children:"menu-2-3"}),meta:{title:"menu-2-3"}}]},{path:"/menu/menu-3",element:(0,l.jsx)("h2",{children:"menu-3"}),meta:{title:"\u83DC\u5355 menu-3"}}]},{path:"/other",element:(0,l.jsx)(l.Fragment,{children:"ss"}),meta:{title:"\u5176\u4ED6"},children:[{path:"/other/file-download",element:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("h2",{children:"download"})}),meta:{title:"\u6587\u4EF6\u4E0B\u8F7D"}}]}]},18655:(O,r,t)=>{t.d(r,{bG:()=>g,kS:()=>T,oR:()=>s,x4:()=>l});var u=t(88674),I=t.n(u),d=t(44963),o=t(75544),f=t(84595);const l=({username:h,password:i})=>A=>new Promise((m,v)=>{(0,d.yq)({username:h,password:i}).then(L=>{const{status:W,token:N,message:H}=L;W===0?(A(y(N)),(0,f.o4)(N),m(L)):v(H)})}),g=h=>i=>new Promise((A,m)=>{(0,d.dW)(h).then(v=>{const{userInfo:L}=v;i(c(L)),(0,f.ps)(L),A(v)})}),T=h=>i=>new Promise((A,m)=>{(0,d.uf)(h).then(v=>{v?.status===0&&(i(y(void 0)),i(U()),window.localStorage.clear())})}),s=h=>({type:o._U,collapsed:h}),y=h=>({type:o.rw,token:h}),c=h=>({type:o.rG,userInfo:h}),U=()=>({type:o.IR})},75544:(O,r,t)=>{t.d(r,{IR:()=>d,_U:()=>o,rG:()=>I,rw:()=>u});const u="USER_SET_USER_TOKEN",I="USER_SET_USER_INFO",d="USER_RESET_USER",o="UPDATE_COLLAPSE"},14269:(O,r,t)=>{t.d(r,{Hj:()=>d,K9:()=>I,M$:()=>u});const u="CHANGE_THEME",I="SET_COLOR_PRIMARY",d="SET_COMPONENT_SIZE"},9994:(O,r,t)=>{t.d(r,{GK:()=>l,L6:()=>f,Rr:()=>d,mf:()=>g,tY:()=>o,zJ:()=>u});const u="SET_TABS",I="REMOVE_TABS",d="DELETE_CURRENT_TAB",o="DELETE_OTHER_TAB",f="DELETE_ALL_TAB",l="SET_TABS_ACTIVE_KEY",g="SET_PAGE_LAYOUT_ITEMS"},84595:(O,r,t)=>{t.d(r,{LP:()=>f,bG:()=>T,nC:()=>o,o4:()=>l,ps:()=>g});var u=t(89250),I=t(12599),d=t(797);const o=()=>{const s=(0,u.TH)();return(0,I.fp)(d.H,s).find(c=>c.pathname===s.pathname)},f=()=>{const s=JSON.parse(localStorage.getItem("token"));if(s)return s},l=s=>{s&&localStorage.setItem("token",JSON.stringify(s))},g=s=>{localStorage.setItem("user-info",JSON.stringify(s))},T=()=>{const s=JSON.parse(localStorage.getItem("user-info"));if(s)return s}}},O=>{var r=u=>O(O.s=u);O.O(0,[203,946,580],()=>r(58646));var t=O.O()}]);
