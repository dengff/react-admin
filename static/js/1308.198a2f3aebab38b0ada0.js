"use strict";(self.webpackChunkantd_admin=self.webpackChunkantd_admin||[]).push([[1308],{64562:(it,X,M)=>{M.d(X,{Z:()=>q});var c=M(33051),J=M(51177),N=M(9344),k=M(32234),W=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Q=function(){function n(i,r,e){var o=this;this._targetInfoList=[];var h=F(r,i);(0,c.S6)($,function(y,E){(!e||!e.include||(0,c.cq)(e.include,E)>=0)&&y(h,o._targetInfoList)})}return n.prototype.setOutputRanges=function(i,r){return this.matchOutputRanges(i,r,function(e,o,h){if((e.coordRanges||(e.coordRanges=[])).push(o),!e.coordRange){e.coordRange=o;var y=U[e.brushType](0,h,o);e.__rangeOffset={offset:B[e.brushType](y.values,e.range,[1,1]),xyMinMax:y.xyMinMax}}}),i},n.prototype.matchOutputRanges=function(i,r,e){(0,c.S6)(i,function(o){var h=this.findTargetInfo(o,r);h&&h!==!0&&(0,c.S6)(h.coordSyses,function(y){var E=U[o.brushType](1,y,o.range,!0);e(o,E.values,y,r)})},this)},n.prototype.setInputRanges=function(i,r){(0,c.S6)(i,function(e){var o=this.findTargetInfo(e,r);if(e.range=e.range||[],o&&o!==!0){e.panelId=o.panelId;var h=U[e.brushType](0,o.coordSys,e.coordRange),y=e.__rangeOffset;e.range=y?B[e.brushType](h.values,y.offset,w(h.xyMinMax,y.xyMinMax)):h.values}},this)},n.prototype.makePanelOpts=function(i,r){return(0,c.UI)(this._targetInfoList,function(e){var o=e.getPanelRect();return{panelId:e.panelId,defaultBrushType:r?r(e):null,clipPath:N.x0(o),isTargetByCursor:N.G(o,i,e.coordSysModel),getLinearBrushOtherExtent:N.VM(o)}})},n.prototype.controlSeries=function(i,r,e){var o=this.findTargetInfo(i,e);return o===!0||o&&(0,c.cq)(o.coordSyses,r.coordinateSystem)>=0},n.prototype.findTargetInfo=function(i,r){for(var e=this._targetInfoList,o=F(r,i),h=0;h<e.length;h++){var y=e[h],E=i.panelId;if(E){if(y.panelId===E)return y}else for(var S=0;S<Z.length;S++)if(Z[S](o,y))return y}return!0},n}();function V(n){return n[0]>n[1]&&n.reverse(),n}function F(n,i){return(0,k.pm)(n,i,{includeMainTypes:W})}var $={grid:function(n,i){var r=n.xAxisModels,e=n.yAxisModels,o=n.gridModels,h=(0,c.kW)(),y={},E={};!r&&!e&&!o||((0,c.S6)(r,function(S){var R=S.axis.grid.model;h.set(R.id,R),y[R.id]=!0}),(0,c.S6)(e,function(S){var R=S.axis.grid.model;h.set(R.id,R),E[R.id]=!0}),(0,c.S6)(o,function(S){h.set(S.id,S),y[S.id]=!0,E[S.id]=!0}),h.each(function(S){var R=S.coordinateSystem,j=[];(0,c.S6)(R.getCartesians(),function(K,tt){((0,c.cq)(r,K.getAxis("x").model)>=0||(0,c.cq)(e,K.getAxis("y").model)>=0)&&j.push(K)}),i.push({panelId:"grid--"+S.id,gridModel:S,coordSysModel:S,coordSys:j[0],coordSyses:j,getPanelRect:x.grid,xAxisDeclared:y[S.id],yAxisDeclared:E[S.id]})}))},geo:function(n,i){(0,c.S6)(n.geoModels,function(r){var e=r.coordinateSystem;i.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:e,coordSyses:[e],getPanelRect:x.geo})})}},Z=[function(n,i){var r=n.xAxisModel,e=n.yAxisModel,o=n.gridModel;return!o&&r&&(o=r.axis.grid.model),!o&&e&&(o=e.axis.grid.model),o&&o===i.gridModel},function(n,i){var r=n.geoModel;return r&&r===i.geoModel}],x={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,i=n.getBoundingRect().clone();return i.applyTransform(J.getTransform(n)),i}},U={lineX:(0,c.WA)(H,0),lineY:(0,c.WA)(H,1),rect:function(n,i,r,e){var o=n?i.pointToData([r[0][0],r[1][0]],e):i.dataToPoint([r[0][0],r[1][0]],e),h=n?i.pointToData([r[0][1],r[1][1]],e):i.dataToPoint([r[0][1],r[1][1]],e),y=[V([o[0],h[0]]),V([o[1],h[1]])];return{values:y,xyMinMax:y}},polygon:function(n,i,r,e){var o=[[1/0,-1/0],[1/0,-1/0]],h=(0,c.UI)(r,function(y){var E=n?i.pointToData(y,e):i.dataToPoint(y,e);return o[0][0]=Math.min(o[0][0],E[0]),o[1][0]=Math.min(o[1][0],E[1]),o[0][1]=Math.max(o[0][1],E[0]),o[1][1]=Math.max(o[1][1],E[1]),E});return{values:h,xyMinMax:o}}};function H(n,i,r,e){var o=r.getAxis(["x","y"][n]),h=V((0,c.UI)([0,1],function(E){return i?o.coordToData(o.toLocalCoord(e[E]),!0):o.toGlobalCoord(o.dataToCoord(e[E]))})),y=[];return y[n]=h,y[1-n]=[NaN,NaN],{values:h,xyMinMax:y}}var B={lineX:(0,c.WA)(z,0),lineY:(0,c.WA)(z,1),rect:function(n,i,r){return[[n[0][0]-r[0]*i[0][0],n[0][1]-r[0]*i[0][1]],[n[1][0]-r[1]*i[1][0],n[1][1]-r[1]*i[1][1]]]},polygon:function(n,i,r){return(0,c.UI)(n,function(e,o){return[e[0]-r[0]*i[o][0],e[1]-r[1]*i[o][1]]})}};function z(n,i,r,e){return[i[0]-e[n]*r[0],i[1]-e[n]*r[1]]}function w(n,i){var r=C(n),e=C(i),o=[r[0]/e[0],r[1]/e[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function C(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const q=Q},44121:(it,X,M)=>{M.d(X,{Z:()=>st});var c=M(33051),J=M(9176),N=M(31194),k=M(61485),W=M(38154),Q=M(44292),V=M(95094),F=M(62514),$=M(52776),Z=M(51177),x=M(26357),U=M(11194),H=M(42151),B=M(36006),z=M(30106),w=M(59361),C=M(7719),q=M(32234),n=["rect","circle","line","ellipse","polygon","polyline","path"],i=c.kW(n),r=c.kW(n.concat(["g"])),e=c.kW(n.concat(["g"])),o=(0,q.Yf)();function h(p){var t=p.getItemStyle(),a=p.get("areaColor");return a!=null&&(t.fill=a),t}function y(p){var t=p.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var E=function(){function p(t){var a=new W.Z;this.uid=(0,H.Kr)("ec_map_draw"),this._controller=new J.Z(t.getZr()),this._controllerHost={target:a},this.group=a,a.add(this._regionsGroup=new W.Z),a.add(this._svgGroup=new W.Z)}return p.prototype.draw=function(t,a,s,_,l){var g=t.mainType==="geo",f=t.getData&&t.getData();g&&a.eachComponent({mainType:"series",subType:"map"},function(I){!f&&I.getHostGeoModel()===t&&(f=I.getData())});var d=t.coordinateSystem,u=this._regionsGroup,D=this.group,T=d.getTransformInfo(),A=T.raw,v=T.roam,m=!u.childAt(0)||l;m?(D.x=v.x,D.y=v.y,D.scaleX=v.scaleX,D.scaleY=v.scaleY,D.dirty()):Q.D(D,v,t);var P=f&&f.getVisual("visualMeta")&&f.getVisual("visualMeta").length>0,L={api:s,geo:d,mapOrGeoModel:t,data:f,isVisualEncodedByVisualMap:P,isGeo:g,transformInfoRaw:A};d.resourceType==="geoJSON"?this._buildGeoJSON(L):d.resourceType==="geoSVG"&&this._buildSVG(L),this._updateController(t,a,s),this._updateMapSelectHandler(t,u,s,_)},p.prototype._buildGeoJSON=function(t){var a=this._regionsGroupByName=c.kW(),s=c.kW(),_=this._regionsGroup,l=t.transformInfoRaw,g=t.mapOrGeoModel,f=t.data,d=t.geo.projection,u=d&&d.stream;function D(v,m){return m&&(v=m(v)),v&&[v[0]*l.scaleX+l.x,v[1]*l.scaleY+l.y]}function T(v){for(var m=[],P=!u&&d&&d.project,L=0;L<v.length;++L){var I=D(v[L],P);I&&m.push(I)}return m}function A(v){return{shape:{points:T(v)}}}_.removeAll(),c.S6(t.geo.regions,function(v){var m=v.name,P=a.get(m),L=s.get(m)||{},I=L.dataIdx,Y=L.regionModel;P||(P=a.set(m,new W.Z),_.add(P),I=f?f.indexOfName(m):null,Y=t.isGeo?g.getRegionModel(m):f?f.getItemModel(I):null,s.set(m,{dataIdx:I,regionModel:Y}));var nt=[],rt=[];c.S6(v.geometries,function(G){if(G.type==="polygon"){var b=[G.exterior].concat(G.interiors||[]);u&&(b=ot(b,u)),c.S6(b,function(et){nt.push(new V.Z(A(et)))})}else{var O=G.points;u&&(O=ot(O,u,!0)),c.S6(O,function(et){rt.push(new F.Z(A(et)))})}});var lt=D(v.getCenter(),d&&d.project);function at(G,b){if(G.length){var O=new $.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:G}});P.add(O),S(t,O,I,Y),R(t,O,m,Y,g,I,lt),b&&(y(O),c.S6(O.states,y))}}at(nt),at(rt,!0)}),a.each(function(v,m){var P=s.get(m),L=P.dataIdx,I=P.regionModel;j(t,v,m,I,g,L),K(t,v,m,I,g),tt(t,v,m,I,g)},this)},p.prototype._buildSVG=function(t){var a=t.geo.map,s=t.transformInfoRaw;this._svgGroup.x=s.x,this._svgGroup.y=s.y,this._svgGroup.scaleX=s.scaleX,this._svgGroup.scaleY=s.scaleY,this._svgResourceChanged(a)&&(this._freeSVG(),this._useSVG(a));var _=this._svgDispatcherMap=c.kW(),l=!1;c.S6(this._svgGraphicRecord.named,function(g){var f=g.name,d=t.mapOrGeoModel,u=t.data,D=g.svgNodeTagLower,T=g.el,A=u?u.indexOfName(f):null,v=d.getRegionModel(f);if(i.get(D)!=null&&T instanceof C.ZP&&S(t,T,A,v),T instanceof C.ZP&&(T.culling=!0),T.z2EmphasisLift=0,!g.namedFrom&&(e.get(D)!=null&&R(t,T,f,v,d,A,null),j(t,T,f,v,d,A),K(t,T,f,v,d),r.get(D)!=null)){var m=tt(t,T,f,v,d);m==="self"&&(l=!0);var P=_.get(f)||_.set(f,[]);P.push(T)}},this),this._enableBlurEntireSVG(l,t)},p.prototype._enableBlurEntireSVG=function(t,a){if(t&&a.isGeo){var s=a.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),_=s.opacity;this._svgGraphicRecord.root.traverse(function(l){if(!l.isGroup){(0,x.MA)(l);var g=l.ensureState("blur").style||{};g.opacity==null&&_!=null&&(g.opacity=_),l.ensureState("emphasis")}})}},p.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},p.prototype.findHighDownDispatchers=function(t,a){if(t==null)return[];var s=a.coordinateSystem;if(s.resourceType==="geoJSON"){var _=this._regionsGroupByName;if(_){var l=_.get(t);return l?[l]:[]}}else if(s.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},p.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},p.prototype._useSVG=function(t){var a=U.Z.getGeoResource(t);if(a&&a.type==="geoSVG"){var s=a.useGraphic(this.uid);this._svgGroup.add(s.root),this._svgGraphicRecord=s,this._svgMapName=t}},p.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var a=U.Z.getGeoResource(t);a&&a.type==="geoSVG"&&a.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},p.prototype._updateController=function(t,a,s){var _=t.coordinateSystem,l=this._controller,g=this._controllerHost;g.zoomLimit=t.get("scaleLimit"),g.zoom=_.getZoom(),l.enable(t.get("roam")||!1);var f=t.mainType;function d(){var u={type:"geoRoam",componentType:f};return u[f+"Id"]=t.id,u}l.off("pan").on("pan",function(u){this._mouseDownFlag=!1,N.e(g,u.dx,u.dy),s.dispatchAction(c.l7(d(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),l.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,N.H(g,u.scale,u.originX,u.originY),s.dispatchAction(c.l7(d(),{zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),l.setPointerChecker(function(u,D,T){return _.containPoint([D,T])&&!(0,k.l)(u,s,t)})},p.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var a=t.getTextContent();a&&(a.ignore=o(a).ignore)})},p.prototype._updateMapSelectHandler=function(t,a,s,_){var l=this;a.off("mousedown"),a.off("click"),t.get("selectedMode")&&(a.on("mousedown",function(){l._mouseDownFlag=!0}),a.on("click",function(g){l._mouseDownFlag&&(l._mouseDownFlag=!1)}))},p}();function S(p,t,a,s){var _=s.getModel("itemStyle"),l=s.getModel(["emphasis","itemStyle"]),g=s.getModel(["blur","itemStyle"]),f=s.getModel(["select","itemStyle"]),d=h(_),u=h(l),D=h(f),T=h(g),A=p.data;if(A){var v=A.getItemVisual(a,"style"),m=A.getItemVisual(a,"decal");p.isVisualEncodedByVisualMap&&v.fill&&(d.fill=v.fill),m&&(d.decal=(0,w.I)(m,p.api))}t.setStyle(d),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=D,t.ensureState("blur").style=T,(0,x.MA)(t)}function R(p,t,a,s,_,l,g){var f=p.data,d=p.isGeo,u=f&&isNaN(f.get(f.mapDimension("value"),l)),D=f&&f.getItemLayout(l);if(d||u||D&&D.showLabel){var T=d?a:l,A=void 0;(!f||l>=0)&&(A=_);var v=g?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,B.ni)(t,(0,B.k3)(s),{labelFetcher:A,labelDataIndex:T,defaultText:a},v);var m=t.getTextContent();if(m&&(o(m).ignore=m.ignore,t.textConfig&&g)){var P=t.getBoundingRect().clone();t.textConfig.layoutRect=P,t.textConfig.position=[(g[0]-P.x)/P.width*100+"%",(g[1]-P.y)/P.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function j(p,t,a,s,_,l){p.data?p.data.setItemGraphicEl(l,t):(0,z.A)(t).eventData={componentType:"geo",componentIndex:_.componentIndex,geoIndex:_.componentIndex,name:a,region:s&&s.option||{}}}function K(p,t,a,s,_){p.data||Z.setTooltipConfig({el:t,componentModel:_,itemName:a,itemTooltipOption:s.get("tooltip")})}function tt(p,t,a,s,_){t.highDownSilentOnTouch=!!_.get("selectedMode");var l=s.getModel("emphasis"),g=l.get("focus");return(0,x.k5)(t,g,l.get("blurScope"),l.get("disabled")),p.isGeo&&(0,x.th)(t,_,a),g}function ot(p,t,a){var s=[],_;function l(){_=[]}function g(){_.length&&(s.push(_),_=[])}var f=t({polygonStart:l,polygonEnd:g,lineStart:l,lineEnd:g,point:function(d,u){isFinite(d)&&isFinite(u)&&_.push([d,u])},sphere:function(){}});return!a&&f.polygonStart(),c.S6(p,function(d){f.lineStart();for(var u=0;u<d.length;u++)f.point(d[u][0],d[u][1]);f.lineEnd()}),!a&&f.polygonEnd(),s}const st=E}}]);
