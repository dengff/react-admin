"use strict";(self.webpackChunkadmin_fe=self.webpackChunkadmin_fe||[]).push([[440],{35060:(R,u,e)=>{e.d(u,{yq:()=>p,uf:()=>D,dW:()=>y,WY:()=>d});var P=e(88674),g=e(52861);let _=null,f=0;const T=()=>{f++},h=()=>{f--,f===0&&_?.close()},d=(o=>{const v=g.Z.create({baseURL:"/default-api",headers:{"x-access-token":"bqddxxwqmfncffacvbpkuxvwvqrhln"},timeout:3e3,withCredentials:!0,...o});return v.interceptors.request.use(function(t){const{loading:c=!0}=t;return c&&T(),t},function(t){return Promise.reject(t)}),v.interceptors.response.use(function(t){const{loading:c=!0,notify:B=!1}=t.config;c&&h();const{code:r,data:A,message:K,cache:W,timeout:U}=t.data,I={200:()=>t.data,401:()=>{},default:()=>Promise.reject(t.data)};return I[r]?I[r]():I.default()},function(t){const{loading:c=!0}=t.config;return c&&h(),t.response&&t.response.status,Promise.reject(t)}),v})({baseURL:"https://mock.apifox.cn/m1/1225980-0-default"}),p=o=>d.post("/login",{...o}),y=o=>d.post("/userInfo",{token:o}),D=o=>d.post("/logout",{token:o})},98025:(R,u,e)=>{e.d(u,{oE:()=>g,vB:()=>P});const P={0:{text:"\u5F85\u5904\u7406",code:"0"},1:{text:"\u8D44\u6599\u586B\u62A5\u4E2D",code:"1"},2:{text:"\u8D44\u6599\u5DF2\u586B\u62A5\u5B8C\u6210",code:"2"},3:{text:"\u6682\u4E0D\u5408\u4F5C",code:"5"}},g=[{value:"guangdong",label:"\u5E7F\u4E1C",children:[{label:"\u5E7F\u5DDE",value:"guangzhou"},{label:"\u6DF1\u5733",value:"shenzhen"}]},{label:"\u4E91\u5357",value:"yunnan",children:[{value:"kunming",label:"\u6606\u660E"},{value:"qujing",label:"\u66F2\u9756"}]}],_={N:{text:"\u672A\u53D8\u66F4",code:"N"},Y:{text:"\u5DF2\u53D8\u66F4",code:"Y"}}},51440:(R,u,e)=>{e.r(u),e.d(u,{default:()=>F});var P=e(88674),g=e.n(P),_=e(66992),f=e.n(_),T=e(33948),h=e.n(T),L=e(90631),j=e(25291),d=e(71577),p=e(81394),y=e(98025),D=e(35060),o=e(67294),v=e(27484),t=e.n(v),c=e(89250),B=e(79655),r=e(85893);const A=async()=>{const{data:a}=await D.WY.post("/cityList");return a},K=async a=>({data:(await D.WY.post("/factory/list",a)).data.list,success:!0}),W=a=>new Promise((l,m)=>{console.log(a,"dataparams");const i={code:0,message:"success",data:[{Modified:"\u7406\u60F3",city:"\u5E7F\u5DDE",date:"2022-02-23",datetime:"2022-02-23 18:30"},{Modified:"\u73B0\u5B9E",city:"\u6DF1\u5733",date:"2022-04-11",datetime:"2022-02-11 18:45"}]};setTimeout(()=>{l(i)},2e3)}),U=[{title:"\u6392\u5E8F",dataIndex:"index",valueType:"index",width:48},{title:"\u57CE\u5E02",valueType:"select",dataIndex:"city",key:"value",request:A},{title:"\u7EA7\u8054\u9009\u62E9",dataIndex:"provinces",hideInTable:!0,search:{},valueType:"cascader",request:()=>y.oE},{title:"\u72B6\u6001",dataIndex:"progress",valueType:"select",valueEnum:y.vB},{title:"\u65F6\u95F4\u533A\u95F4",key:"dateTimeRange",dataIndex:"createdAtRange",valueType:"dateTimeRange",search:{transform:a=>({startTime:a[0],endTime:a[1]})}},{title:"\u7ED3\u679C",dataIndex:"result",ellipsis:!0,search:!1,renderFormItem:(a,{type:l,defaultRender:m,formItemProps:i,fieldProps:x,...C},M)=>m()},{title:"\u65F6\u95F4",tip:"form\u7684tip",ellipsis:!0,tooltip:"table\u7684tip",dataIndex:"date",valueType:"date"},{title:"\u4FEE\u6539\u4EBA",dataIndex:"Modified"},{title:"\u56FE\u7247",dataIndex:"image",valueType:"image",hideInSearch:!0},{title:"\u5907\u6CE8",dataIndex:"memo",ellipsis:!0,copyable:!0,renderFormItem:(a,{type:l,defaultRender:m,formItemProps:i,fieldProps:x,...C},M)=>m()},{title:"\u64CD\u4F5C",width:80,key:"option",valueType:"option",fixed:"right",render:(a,l,m,i)=>[(0,r.jsx)("a",{onClick:()=>{i.startEditable(l.key)},children:"\u7F16\u8F91"},"edit")]}],F=()=>{const a=(0,c.s0)(),[l,m]=(0,B.lr)();console.log(l.get("name"));const i=(0,o.useRef)();(0,o.useEffect)(()=>{},[]);const[x,C]=(0,o.useState)([]),[M,S]=(0,o.useState)([]),[E,N]=(0,o.useState)([]);function Z(s,n){N(n),C(s)}return(0,r.jsx)(j.Z,{columns:U,params:{userName:"test"},request:(s,n,O)=>{console.log(s,n,O);const b=t()().format(s.data);console.log(b);const{data:Y}=W(s);return S(Y),K(s)},rowKey:"key",dataSource:M,actionRef:i,pagination:{showQuickJumper:!0,pageSize:10},search:{layout:"horizontal",defaultCollapsed:!0,optionRender:(s,n,O)=>[O,(0,r.jsx)(d.ZP,{type:"primary",icon:(0,r.jsx)(L.Z,{}),children:"\u4E0B\u8F7D\u62A5\u8868"},"download")]},options:{fullScreen:!0},rowSelection:{selections:[p.Z.SELECTION_ALL,p.Z.SELECTION_INVERT,{key:"other",text:"\u5176\u4ED6\u7B5B\u9009",onSelect:s=>{console.log(s,"rowSelection")}}],selectedRowKeys:x,onChange:Z,type:"radio"},scroll:{x:1300},dateFormatter:"string",editable:{onSave:async(s,n,O)=>{console.log(n,"saveData")},onDelete:(s,n)=>{console.log(M,"dataSource")},onValuesChange:(s,n)=>{S(n)}},toolbar:{title:"\u9AD8\u7EA7\u8868\u683C",tooltip:"\u8FD9\u662F\u4E00\u4E2A\u6807\u9898\u63D0\u793A"},toolBarRender:()=>[(0,r.jsx)(d.ZP,{disabled:!(E!=null&&E.length),type:"primary",onClick:s=>{const{key:n=""}=E?.[0];a(`/table/detail?id=${n}`)},children:"\u67E5\u770B\u8BE6\u60C5"})]})}}}]);
