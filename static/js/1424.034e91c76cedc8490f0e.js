"use strict";(self.webpackChunkantd_admin=self.webpackChunkantd_admin||[]).push([[1424],{86615:(B,M,t)=>{t.d(M,{Z:()=>n});var c=t(1413),y=t(44925),m=t(22270),I=t(16117),v=t(67294),P=t(74115),l=t(31649),O=t(85893),f=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],T=v.forwardRef(function(s,d){var _=s.fieldProps,E=s.options,A=s.radioType,o=s.layout,r=s.proFieldProps,i=s.valueEnum,u=(0,y.Z)(s,f);return(0,O.jsx)(l.Z,(0,c.Z)((0,c.Z)({valueType:A==="button"?"radioButton":"radio",ref:d,valueEnum:(0,m.h)(i,void 0)},u),{},{fieldProps:(0,c.Z)({options:E,layout:o},_),proFieldProps:r,filedConfig:{customLightMode:!0}}))}),a=v.forwardRef(function(s,d){var _=s.fieldProps,E=s.children;return(0,O.jsx)(I.ZP,(0,c.Z)((0,c.Z)({},_),{},{ref:d,children:E}))}),p=(0,P.G)(a,{valuePropName:"checked",ignoreWidth:!0}),e=p;e.Group=T,e.Button=I.ZP.Button,e.displayName="ProFormComponent";const n=e},39649:(B,M,t)=>{t.d(M,{yq:()=>l,uf:()=>f,Il:()=>T,dW:()=>O,WY:()=>P});var c=t(88674),y=t(7150);const m={baseURL:"/default-api",headers:{"x-access-token":"bqddxxwqmfncffacvbpkuxvwvqrhln"},timeout:3e3,withCredentials:!0},P=((a=m)=>{const p=y.Z.create({...a});return p.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),p.interceptors.response.use(function(e){const{data:n}=e,{code:s,message:d}=n;if(n instanceof ArrayBuffer)return n;const _={200:()=>n,default:()=>Promise.reject(e.data)};return _[s]?_[s]():_.default()},function(e){return Promise.reject(e)}),p})({baseURL:"https://mock.apifox.cn/m1/1225980-0-default"}),l=a=>P.post("/login",{...a}),O=a=>P.post("/userInfo",{token:a}),f=a=>P.post("/logout",{token:a}),T=a=>P.post("/detailInfo",{...a})},81424:(B,M,t)=>{t.r(M),t.d(M,{default:()=>e});var c=t(66992),y=t.n(c),m=t(33948),I=t.n(m),v=t(27061),P=t(86615),l=t(67294),O=t(70743),f=t(40778),T=t(33348),a=t(85893);const e=()=>{const n=(0,O.I0)(),s=(0,l.useRef)(),{userInfo:d}=(0,O.v9)(T.b),{id:_=""}=d??{},[E,A]=(0,l.useState)(_),o=r=>{const{value:i}=r.target;A(i),n((0,f.x4)({username:i,password:"123456"})).then(u=>{const{token:U}=u?.data;n((0,f.bG)(U))})};return(0,a.jsx)(v.A,{style:{background:"#fff",height:"100%"},formRef:s,layout:"horizontal",title:"\u5176\u4ED6\u6743\u9650",submitter:{render:(r,i)=>null},children:(0,a.jsx)(v.A.Group,{title:"\u9875\u9762\u6743\u9650\u793A\u4F8B",children:(0,a.jsx)(P.Z.Group,{name:"authPage",label:`\u5207\u6362\u9875\u9762\u6743\u9650 --> \u5F53\u524DRole:[${E}]`,radioType:"button",initialValue:E,fieldProps:{onChange:r=>o(r)},options:[{value:"admin",label:"admin"},{value:"editor",label:"editor"},{value:"guest",label:"guest"}]})})})}},40778:(B,M,t)=>{t.d(M,{bG:()=>O,kS:()=>f,x4:()=>l});var c=t(88674),y=t.n(c),m=t(39649),I=t(93762),v=t(54599),P=t(38717);const l=({username:e,password:n})=>s=>new Promise((d,_)=>{(0,m.yq)({username:e,password:n}).then(E=>{const{status:A,token:o}=E.data;A===0?(s(T(o)),(0,v.o4)(o),d(E)):_()})}),O=e=>n=>new Promise((s,d)=>{(0,m.dW)(e).then(_=>{const{userInfo:E}=_;n(a(E)),(0,v.ps)(E),s(_)})}),f=e=>n=>new Promise((s,d)=>{(0,m.uf)(e).then(_=>{_?.data.status===0&&(localStorage.removeItem("token"),n(p()),n(T("")),n((0,P.Yc)()),s(!0))}).catch(_=>d(!1))}),T=e=>({type:I.Z.USER_SET_USER_TOKEN,token:e}),a=e=>({type:I.Z.USER_SET_USER_INFO,userInfo:e}),p=()=>({type:I.Z.USER_RESET_USER})},38717:(B,M,t)=>{t.d(M,{BH:()=>O,ND:()=>T,Ud:()=>a,Yc:()=>E,_I:()=>f,c_:()=>p,fu:()=>e,oR:()=>A});var c=t(66992),y=t.n(c),m=t(33948),I=t.n(m),v=t(88674),P=t.n(v),l=t(20409);const O=(o,r)=>(i,u)=>{const{topHeader:U}=u(),{tabList:L}=U;if(L.every(C=>C.key!==r)){var D,R;const C={key:o.pathname,label:o==null||(D=o.route)===null||D===void 0||(R=D.meta)===null||R===void 0?void 0:R.title,closable:!0};i(n([...L,C]))}i(s(r))},f=o=>(r,i)=>new Promise((u,U)=>{if(o==="/home")return;const{topHeader:L}=i(),{tabList:D}=L;let R=0;const C=D.filter((j,K)=>{if(j.key!==o)return!0;j.key===o&&(R=K)}),W=D[R-1];r(n(C)),r(s(W?.key)),u(W)}),T=o=>(r,i)=>{const{topHeader:u}=i(),{tabList:U}=u,L=U.filter(D=>D.key===o||D.key==="/home");r(n(L))},a=o=>(r,i)=>new Promise((u,U)=>{const{topHeader:L}=i(),{tabList:D}=L,R=D.filter(C=>C.key==="/home");r(n(R)),u(!0)}),p=o=>r=>{r(d(o))},e=o=>r=>{o&&r(_(o))},n=o=>({type:l.Z.SET_TABS,tabList:o}),s=o=>({type:l.Z.SET_TABS_ACTIVE_KEY,activeKey:o}),d=o=>({type:l.Z.SET_PAGE_LAYOUT_ITEMS,layoutItems:o}),_=o=>({type:l.Z.SET_LAYOUT_MODE,layoutMode:o}),E=()=>({type:l.Z.RESET_TOP_HEADER_STATE}),A=o=>({type:l.Z.UPDATE_COLLAPSE,collapsed:o})}}]);
