"use strict";(self.webpackChunkantd_admin=self.webpackChunkantd_admin||[]).push([[1424],{86615:(W,f,t)=>{t.d(f,{Z:()=>n});var u=t(1413),B=t(45987),m=t(22270),L=t(80575),T=t(67294),c=t(64893),l=t(20492),v=t(85893),p=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],O=T.forwardRef(function(e,i){var E=e.fieldProps,_=e.options,d=e.radioType,C=e.layout,R=e.proFieldProps,o=e.valueEnum,r=(0,B.Z)(e,p);return(0,v.jsx)(l.Z,(0,u.Z)((0,u.Z)({valueType:d==="button"?"radioButton":"radio",ref:i,valueEnum:(0,m.h)(o,void 0)},r),{},{fieldProps:(0,u.Z)({options:_,layout:C},E),proFieldProps:R,filedConfig:{customLightMode:!0}}))}),a=T.forwardRef(function(e,i){var E=e.fieldProps,_=e.children;return(0,v.jsx)(L.ZP,(0,u.Z)((0,u.Z)({},E),{},{ref:i,children:_}))}),D=(0,c.G)(a,{valuePropName:"checked",ignoreWidth:!0}),s=D;s.Group=O,s.Button=L.ZP.Button,s.displayName="ProFormComponent";const n=s},39649:(W,f,t)=>{t.d(f,{yq:()=>l,uf:()=>p,Il:()=>O,dW:()=>v,WY:()=>c});var u=t(88674),B=t(52861);const m={baseURL:"/default-api",headers:{"x-access-token":"bqddxxwqmfncffacvbpkuxvwvqrhln"},timeout:3e3,withCredentials:!0},c=((a=m)=>{const D=B.Z.create({...a});return D.interceptors.request.use(function(s){return s},function(s){return Promise.reject(s)}),D.interceptors.response.use(function(s){const{code:n,data:e,message:i,cache:E,timeout:_}=s.data,d={200:()=>s.data,401:()=>{},default:()=>Promise.reject(s.data)};return d[n]?d[n]():d.default()},function(s){return Promise.reject(s)}),D})({baseURL:"https://mock.apifox.cn/m1/1225980-0-default"}),l=a=>c.post("/login",{...a}),v=a=>c.post("/userInfo",{token:a}),p=a=>c.post("/logout",{token:a}),O=a=>c.post("/detailInfo",{...a})},81424:(W,f,t)=>{t.r(f),t.d(f,{default:()=>D});var u=t(66992),B=t.n(u),m=t(33948),L=t.n(m),T=t(27061),c=t(86615),l=t(67294),v=t(86706),p=t(40778),O=t(85893);const a=s=>{const{login:n,getUserInfo:e}=s,i=(0,l.useRef)(),{userInfo:E}=(0,v.v9)(o=>o.global),{id:_=""}=E??{},[d,C]=(0,l.useState)(_),R=o=>{const{value:r}=o.target;C(r),n({username:r,password:"123456"}).then(P=>{const{token:A}=P?.data;e(A)})};return(0,O.jsx)(T.A,{style:{background:"#fff",height:"100%"},formRef:i,layout:"horizontal",title:"\u5176\u4ED6\u6743\u9650",submitter:{render:(o,r)=>null},children:(0,O.jsx)(T.A.Group,{title:"\u9875\u9762\u6743\u9650\u793A\u4F8B",children:(0,O.jsx)(c.Z.Group,{name:"authPage",label:`\u5207\u6362\u9875\u9762\u6743\u9650 --> \u5F53\u524DRole:[${d}]`,radioType:"button",initialValue:d,fieldProps:{onChange:o=>R(o)},options:[{value:"admin",label:"admin"},{value:"editor",label:"editor"},{value:"guest",label:"guest"}]})})})},D=(0,v.$j)(null,{login:p.x4,getUserInfo:p.bG})(a)},40778:(W,f,t)=>{t.d(f,{bG:()=>v,kS:()=>p,oR:()=>O,x4:()=>l});var u=t(88674),B=t.n(u),m=t(39649),L=t(93762),T=t(54599),c=t(38717);const l=({username:n,password:e})=>i=>new Promise((E,_)=>{(0,m.yq)({username:n,password:e}).then(d=>{const{status:C,token:R}=d.data;C===0?(i(a(R)),(0,T.o4)(R),E(d)):_()})}),v=n=>e=>new Promise((i,E)=>{(0,m.dW)(n).then(_=>{const{userInfo:d}=_;e(D(d)),(0,T.ps)(d),i(_)})}),p=n=>e=>new Promise((i,E)=>{(0,m.uf)(n).then(_=>{_?.data.status===0&&(e(a(void 0)),e(s()),e((0,c.Yc)()),window.localStorage.clear(),i(!0))}).catch(_=>E(_))}),O=n=>({type:L.Z.UPDATE_COLLAPSE,collapsed:n}),a=n=>({type:L.Z.USER_SET_USER_TOKEN,token:n}),D=n=>({type:L.Z.USER_SET_USER_INFO,userInfo:n}),s=()=>({type:L.Z.USER_RESET_USER})},38717:(W,f,t)=>{t.d(f,{BH:()=>v,ND:()=>O,Ud:()=>a,Yc:()=>R,_I:()=>p,c_:()=>D,fu:()=>s});var u=t(66992),B=t.n(u),m=t(33948),L=t.n(m),T=t(88674),c=t.n(T),l=t(20409);const v=(o,r)=>(P,A)=>{const{topHeader:j}=A(),{tabList:I}=j;if(I.every(y=>y.key!==r)){var M,U;const y={key:o.pathname,label:o==null||(M=o.route)===null||M===void 0||(U=M.meta)===null||U===void 0?void 0:U.title};P(E([...I,y]))}P(_(r))},p=o=>(r,P)=>new Promise((A,j)=>{if(o==="/home")return;const{topHeader:I}=P(),{tabList:M}=I;let U=null;const y=M.filter((K,g)=>{if(K.key!==o)return!0;K.key===o&&(U=g)}),h=M[U-1];r(n(y)),r(_(h?.key)),A(h)}),O=o=>(r,P)=>{const{topHeader:A}=P(),{tabList:j}=A,I=j.filter(M=>M.key===o||M.key==="/home");r(e(I))},a=o=>(r,P)=>new Promise((A,j)=>{const{topHeader:I}=P(),{tabList:M}=I,U=M.filter(y=>y.key==="/home");r(i(U)),A(!0)}),D=o=>r=>{r(d(o))},s=o=>r=>{r(C(o))},n=o=>({type:l.Z.DELETE_CURRENT_TAB,tabList:o}),e=o=>({type:l.Z.DELETE_OTHER_TAB,tabList:o}),i=o=>({type:l.Z.DELETE_ALL_TAB,tabList:o}),E=o=>({type:l.Z.SET_TABS,tabList:o}),_=o=>({type:l.Z.SET_TABS_ACTIVE_KEY,activeKey:o}),d=o=>({type:l.Z.SET_PAGE_LAYOUT_ITEMS,layoutItems:o}),C=o=>({type:l.Z.SET_LAYOUT_MODE,layoutMode:o}),R=()=>({type:l.Z.RESET_TOP_HEADER_STATE})}}]);
