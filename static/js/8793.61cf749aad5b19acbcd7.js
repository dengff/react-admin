"use strict";(self.webpackChunkantd_admin=self.webpackChunkantd_admin||[]).push([[8793],{21234:(At,Ue,e)=>{e.d(Ue,{Z:()=>jt,E:()=>Pt});var Y=e(71002),D=e(87462),w=e(4942),Qe=e(93433),T=e(29439),Be=e(1413),ht=e(44925),pt=e(94184),St=e.n(pt),u=e(8410),rt=e(21770),xt=e(31131),Ct=e(15105),Tt=e(42550),v=e(67294),bt=e(28117),Lt=e(16936),Ft=e(58908),Kt=e(47194),yt=e(35799),Wt=e(9699),J=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Ut=function(S){var $=S===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:$,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:$,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:$,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:$,adjustY:1},htmlRegion:"scroll"}}},Zt=function(S,$){var R=S.prefixCls,lt=S.disabled,O=S.visible,it=S.children,He=S.popupElement,ke=S.containerWidth,Ee=S.animation,$e=S.transitionName,a=S.dropdownStyle,Ve=S.dropdownClassName,Ce=S.direction,m=Ce===void 0?"ltr":Ce,le=S.placement,Q=S.builtinPlacements,h=S.dropdownMatchSelectWidth,I=S.dropdownRender,te=S.dropdownAlign,ie=S.getPopupContainer,ne=S.empty,Re=S.getTriggerDOMNode,ue=S.onPopupVisibleChange,P=S.onPopupMouseEnter,ce=(0,ht.Z)(S,J),j="".concat(R,"-dropdown"),se=He;I&&(se=I(He));var de=v.useMemo(function(){return Q||Ut(h)},[Q,h]),k=Ee?"".concat(j,"-").concat(Ee):$e,E=v.useRef(null);v.useImperativeHandle($,function(){return{getPopupElement:function(){return E.current}}});var W=(0,Be.Z)({minWidth:ke},a);return typeof h=="number"?W.width=h:h&&(W.width=ke),v.createElement(Wt.Z,(0,D.Z)({},ce,{showAction:ue?["click"]:[],hideAction:ue?["click"]:[],popupPlacement:le||(m==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:de,prefixCls:j,popupTransitionName:k,popup:v.createElement("div",{ref:E,onMouseEnter:P},se),popupAlign:te,popupVisible:O,getPopupContainer:ie,popupClassName:St()(Ve,(0,w.Z)({},"".concat(j,"-empty"),ne)),popupStyle:W,getTriggerDOMNode:Re,onPopupVisibleChange:ue}),it)},wt=v.forwardRef(Zt);wt.displayName="SelectTrigger";const Bt=wt;var Ot=e(9836),It=e(21454),Ht=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],$t=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Pt(t){return t==="tags"||t==="multiple"}var Et=v.forwardRef(function(t,S){var $,R,lt=t.id,O=t.prefixCls,it=t.className,He=t.showSearch,ke=t.tagRender,Ee=t.direction,$e=t.omitDomProps,a=t.displayValues,Ve=t.onDisplayValuesChange,Ce=t.emptyOptions,m=t.notFoundContent,le=m===void 0?"Not Found":m,Q=t.onClear,h=t.mode,I=t.disabled,te=t.loading,ie=t.getInputElement,ne=t.getRawInputElement,Re=t.open,ue=t.defaultOpen,P=t.onDropdownVisibleChange,ce=t.activeValue,j=t.onActiveValueChange,se=t.activeDescendantId,de=t.searchValue,k=t.autoClearSearchValue,E=t.onSearch,W=t.onSearchSplit,q=t.tokenSeparators,je=t.allowClear,ze=t.showArrow,ae=t.inputIcon,U=t.clearIcon,be=t.OptionList,Xe=t.animation,Me=t.transitionName,Ne=t.dropdownStyle,ut=t.dropdownClassName,qe=t.dropdownMatchSelectWidth,_=t.dropdownRender,_e=t.dropdownAlign,De=t.placement,Ge=t.builtinPlacements,ve=t.getPopupContainer,oe=t.showAction,et=oe===void 0?[]:oe,A=t.onFocus,Ae=t.onBlur,ye=t.onKeyUp,s=t.onKeyDown,n=t.onMouseDown,f=(0,ht.Z)(t,Ht),g=Pt(h),p=(He!==void 0?He:g)||h==="combobox",C=(0,Be.Z)({},f);$t.forEach(function(c){delete C[c]}),$e?.forEach(function(c){delete C[c]});var M=v.useState(!1),z=(0,T.Z)(M,2),xe=z[0],Te=z[1];v.useEffect(function(){Te((0,xt.Z)())},[]);var Ye=v.useRef(null),fe=v.useRef(null),Le=v.useRef(null),Ze=v.useRef(null),Z=v.useRef(null),tt=(0,Lt.Z)(),Je=(0,T.Z)(tt,3),me=Je[0],K=Je[1],ge=Je[2];v.useImperativeHandle(S,function(){var c,r;return{focus:(c=Ze.current)===null||c===void 0?void 0:c.focus,blur:(r=Ze.current)===null||r===void 0?void 0:r.blur,scrollTo:function(H){var V;return(V=Z.current)===null||V===void 0?void 0:V.scrollTo(H)}}});var L=v.useMemo(function(){var c;if(h!=="combobox")return de;var r=(c=a[0])===null||c===void 0?void 0:c.value;return typeof r=="string"||typeof r=="number"?String(r):""},[de,h,a]),he=h==="combobox"&&typeof ie=="function"&&ie()||null,X=typeof ne=="function"&&ne(),we=(0,Tt.x1)(fe,X==null||($=X.props)===null||$===void 0?void 0:$.ref),pe=v.useState(!1),nt=(0,T.Z)(pe,2),Vt=nt[0],zt=nt[1];(0,u.Z)(function(){zt(!0)},[]);var at=(0,rt.Z)(!1,{defaultValue:ue,value:Re}),Rt=(0,T.Z)(at,2),ct=Rt[0],st=Rt[1],N=Vt?ct:!1,dt=!le&&Ce;(I||dt&&N&&h==="combobox")&&(N=!1);var Oe=dt?!1:N,B=v.useCallback(function(c){var r=c!==void 0?c:!N;I||(st(r),N!==r&&P?.(r))},[I,N,st,P]),Mt=v.useMemo(function(){return(q||[]).some(function(c){return[`
`,`\r
`].includes(c)})},[q]),vt=function(r,F,H){var V=!0,G=r;j?.(null);var re=H?null:(0,It.tE)(r,q);return h!=="combobox"&&re&&(G="",W?.(re),B(!1),V=!1),E&&L!==G&&E(G,{source:F?"typing":"effect"}),V},Xt=function(r){!r||!r.trim()||E(r,{source:"submit"})};v.useEffect(function(){!N&&!g&&h!=="combobox"&&vt("",!1,!1)},[N]),v.useEffect(function(){ct&&I&&st(!1),I&&K(!1)},[I]);var Gt=(0,Ft.Z)(),Nt=(0,T.Z)(Gt,2),i=Nt[0],l=Nt[1],o=function(r){var F=i(),H=r.which;if(H===Ct.Z.ENTER&&(h!=="combobox"&&r.preventDefault(),N||B(!0)),l(!!L),H===Ct.Z.BACKSPACE&&!F&&g&&!L&&a.length){for(var V=(0,Qe.Z)(a),G=null,re=V.length-1;re>=0;re-=1){var gt=V[re];if(!gt.disabled){V.splice(re,1),G=gt;break}}G&&Ve(V,{type:"remove",values:[G]})}for(var Ke=arguments.length,ot=new Array(Ke>1?Ke-1:0),We=1;We<Ke;We++)ot[We-1]=arguments[We];if(N&&Z.current){var tn;(tn=Z.current).onKeyDown.apply(tn,[r].concat(ot))}s?.apply(void 0,[r].concat(ot))},d=function(r){for(var F=arguments.length,H=new Array(F>1?F-1:0),V=1;V<F;V++)H[V-1]=arguments[V];if(N&&Z.current){var G;(G=Z.current).onKeyUp.apply(G,[r].concat(H))}ye?.apply(void 0,[r].concat(H))},b=function(r){var F=a.filter(function(H){return H!==r});Ve(F,{type:"remove",values:[r]})},y=v.useRef(!1),Ie=function(){K(!0),I||(A&&!y.current&&A.apply(void 0,arguments),et.includes("focus")&&B(!0)),y.current=!0},Se=function(){K(!1,function(){y.current=!1,B(!1)}),!I&&(L&&(h==="tags"?E(L,{source:"submit"}):h==="multiple"&&E("",{source:"blur"})),Ae&&Ae.apply(void 0,arguments))},ee=[];v.useEffect(function(){return function(){ee.forEach(function(c){return clearTimeout(c)}),ee.splice(0,ee.length)}},[]);var x=function(r){var F,H=r.target,V=(F=Le.current)===null||F===void 0?void 0:F.getPopupElement();if(V&&V.contains(H)){var G=setTimeout(function(){var ot=ee.indexOf(G);if(ot!==-1&&ee.splice(ot,1),ge(),!xe&&!V.contains(document.activeElement)){var We;(We=Ze.current)===null||We===void 0||We.focus()}});ee.push(G)}for(var re=arguments.length,gt=new Array(re>1?re-1:0),Ke=1;Ke<re;Ke++)gt[Ke-1]=arguments[Ke];n?.apply(void 0,[r].concat(gt))},Fe=v.useState(null),ft=(0,T.Z)(Fe,2),Dt=ft[0],Jt=ft[1],mt=v.useState({}),Pe=(0,T.Z)(mt,2),nn=Pe[1];function an(){nn({})}(0,u.Z)(function(){if(Oe){var c,r=Math.ceil((c=Ye.current)===null||c===void 0?void 0:c.offsetWidth);Dt!==r&&!Number.isNaN(r)&&Jt(r)}},[Oe]);var Qt;X&&(Qt=function(r){B(r)}),(0,Kt.Z)(function(){var c;return[Ye.current,(c=Le.current)===null||c===void 0?void 0:c.getPopupElement()]},Oe,B,!!X);var on=v.useMemo(function(){return(0,Be.Z)((0,Be.Z)({},t),{},{notFoundContent:le,open:N,triggerOpen:Oe,id:lt,showSearch:p,multiple:g,toggleOpen:B})},[t,le,Oe,N,lt,p,g,B]),kt=ze!==void 0?ze:te||!g&&h!=="combobox",qt;kt&&(qt=v.createElement(Ot.Z,{className:St()("".concat(O,"-arrow"),(0,w.Z)({},"".concat(O,"-arrow-loading"),te)),customizeIcon:ae,customizeIconProps:{loading:te,searchValue:L,open:N,focused:me,showSearch:p}}));var _t,rn=function(){var r;Q?.(),(r=Ze.current)===null||r===void 0||r.focus(),Ve([],{type:"clear",values:a}),vt("",!1,!1)};!I&&je&&(a.length||L)&&!(h==="combobox"&&L==="")&&(_t=v.createElement(Ot.Z,{className:"".concat(O,"-clear"),onMouseDown:rn,customizeIcon:U},"\xD7"));var ln=v.createElement(be,{ref:Z}),un=St()(O,it,(R={},(0,w.Z)(R,"".concat(O,"-focused"),me),(0,w.Z)(R,"".concat(O,"-multiple"),g),(0,w.Z)(R,"".concat(O,"-single"),!g),(0,w.Z)(R,"".concat(O,"-allow-clear"),je),(0,w.Z)(R,"".concat(O,"-show-arrow"),kt),(0,w.Z)(R,"".concat(O,"-disabled"),I),(0,w.Z)(R,"".concat(O,"-loading"),te),(0,w.Z)(R,"".concat(O,"-open"),N),(0,w.Z)(R,"".concat(O,"-customize-input"),he),(0,w.Z)(R,"".concat(O,"-show-search"),p),R)),en=v.createElement(Bt,{ref:Le,disabled:I,prefixCls:O,visible:Oe,popupElement:ln,containerWidth:Dt,animation:Xe,transitionName:Me,dropdownStyle:Ne,dropdownClassName:ut,direction:Ee,dropdownMatchSelectWidth:qe,dropdownRender:_,dropdownAlign:_e,placement:De,builtinPlacements:Ge,getPopupContainer:ve,empty:Ce,getTriggerDOMNode:function(){return fe.current},onPopupVisibleChange:Qt,onPopupMouseEnter:an},X?v.cloneElement(X,{ref:we}):v.createElement(yt.Z,(0,D.Z)({},t,{domRef:fe,prefixCls:O,inputElement:he,ref:Ze,id:lt,showSearch:p,autoClearSearchValue:k,mode:h,activeDescendantId:se,tagRender:ke,values:a,open:N,onToggleOpen:B,activeValue:ce,searchValue:L,onSearch:vt,onSearchSubmit:Xt,onRemove:b,tokenWithEnter:Mt}))),Yt;return X?Yt=en:Yt=v.createElement("div",(0,D.Z)({className:un},C,{ref:Ye,onMouseDown:x,onKeyDown:o,onKeyUp:d,onFocus:Ie,onBlur:Se}),me&&!N&&v.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(a.map(function(c){var r=c.label,F=c.value;return["number","string"].includes((0,Y.Z)(r))?r:F}).join(", "))),en,qt,_t),v.createElement(bt.r.Provider,{value:on},Yt)});const jt=Et},93881:(At,Ue,e)=>{e.d(Ue,{Z:()=>D});var Y=function(){return null};Y.isSelectOptGroup=!0;const D=Y},69415:(At,Ue,e)=>{e.d(Ue,{Z:()=>D});var Y=function(){return null};Y.isSelectOption=!0;const D=Y},18793:(At,Ue,e)=>{e.d(Ue,{Z:()=>$e});var Y=e(87462),D=e(93433),w=e(4942),Qe=e(1413),T=e(29439),Be=e(44925),ht=e(71002),pt=e(21770),St=e(80334),u=e(67294),rt=e(21234),xt=e(92044),Ct=e(97177),Tt=e(88708),v=e(15307),bt=e(8290),Lt=e(93881),Ft=e(69415),Kt=e(94184),yt=e.n(Kt),Wt=e(56982),J=e(15105),Ut=e(98423),Zt=e(64217),wt=e(7606),Bt=e(28117),Ot=u.createContext(null);const It=Ot;var Ht=e(9836),$t=e(52226),Pt=["disabled","title","children","style","className"];function Et(a){return typeof a=="string"||typeof a=="number"}var jt=function(Ve,Ce){var m=(0,Bt.Z)(),le=m.prefixCls,Q=m.id,h=m.open,I=m.multiple,te=m.mode,ie=m.searchValue,ne=m.toggleOpen,Re=m.notFoundContent,ue=m.onPopupScroll,P=u.useContext(It),ce=P.flattenOptions,j=P.onActiveValue,se=P.defaultActiveFirstOption,de=P.onSelect,k=P.menuItemSelectedIcon,E=P.rawValues,W=P.fieldNames,q=P.virtual,je=P.listHeight,ze=P.listItemHeight,ae="".concat(le,"-item"),U=(0,Wt.Z)(function(){return ce},[h,ce],function(s,n){return n[0]&&s[1]!==n[1]}),be=u.useRef(null),Xe=function(n){n.preventDefault()},Me=function(n){be.current&&be.current.scrollTo(typeof n=="number"?{index:n}:n)},Ne=function(n){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,g=U.length,p=0;p<g;p+=1){var C=(n+p*f+g)%g,M=U[C],z=M.group,xe=M.data;if(!z&&!xe.disabled)return C}return-1},ut=u.useState(function(){return Ne(0)}),qe=(0,T.Z)(ut,2),_=qe[0],_e=qe[1],De=function(n){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;_e(n);var g={source:f?"keyboard":"mouse"},p=U[n];if(!p){j(null,-1,g);return}j(p.value,n,g)};(0,u.useEffect)(function(){De(se!==!1?Ne(0):-1)},[U.length,ie]);var Ge=u.useCallback(function(s){return E.has(s)&&te!=="combobox"},[te,(0,D.Z)(E).toString(),E.size]);(0,u.useEffect)(function(){var s=setTimeout(function(){if(!I&&h&&E.size===1){var f=Array.from(E)[0],g=U.findIndex(function(p){var C=p.data;return C.value===f});g!==-1&&(De(g),Me(g))}});if(h){var n;(n=be.current)===null||n===void 0||n.scrollTo(void 0)}return function(){return clearTimeout(s)}},[h,ie,ce.length]);var ve=function(n){n!==void 0&&de(n,{selected:!E.has(n)}),I||ne(!1)};if(u.useImperativeHandle(Ce,function(){return{onKeyDown:function(n){var f=n.which,g=n.ctrlKey;switch(f){case J.Z.N:case J.Z.P:case J.Z.UP:case J.Z.DOWN:{var p=0;if(f===J.Z.UP?p=-1:f===J.Z.DOWN?p=1:(0,$t.V)()&&g&&(f===J.Z.N?p=1:f===J.Z.P&&(p=-1)),p!==0){var C=Ne(_+p,p);Me(C),De(C,!0)}break}case J.Z.ENTER:{var M=U[_];M&&!M.data.disabled?ve(M.value):ve(void 0),h&&n.preventDefault();break}case J.Z.ESC:ne(!1),h&&n.stopPropagation()}},onKeyUp:function(){},scrollTo:function(n){Me(n)}}}),U.length===0)return u.createElement("div",{role:"listbox",id:"".concat(Q,"_list"),className:"".concat(ae,"-empty"),onMouseDown:Xe},Re);var oe=Object.keys(W).map(function(s){return W[s]}),et=function(n){return n.label};function A(s,n){var f=s.group;return{role:f?"presentation":"option",id:"".concat(Q,"_list_").concat(n)}}var Ae=function(n){var f=U[n];if(!f)return null;var g=f.data||{},p=g.value,C=f.group,M=(0,Zt.Z)(g,!0),z=et(f);return f?u.createElement("div",(0,Y.Z)({"aria-label":typeof z=="string"&&!C?z:null},M,{key:n},A(f,n),{"aria-selected":Ge(p)}),p):null},ye={role:"listbox",id:"".concat(Q,"_list")};return u.createElement(u.Fragment,null,q&&u.createElement("div",(0,Y.Z)({},ye,{style:{height:0,width:0,overflow:"hidden"}}),Ae(_-1),Ae(_),Ae(_+1)),u.createElement(wt.Z,{itemKey:"key",ref:be,data:U,height:je,itemHeight:ze,fullHeight:!1,onMouseDown:Xe,onScroll:ue,virtual:q,innerProps:q?null:ye},function(s,n){var f,g=s.group,p=s.groupOption,C=s.data,M=s.label,z=s.value,xe=C.key;if(g){var Te,Ye=(Te=C.title)!==null&&Te!==void 0?Te:Et(M)?M.toString():void 0;return u.createElement("div",{className:yt()(ae,"".concat(ae,"-group")),title:Ye},M!==void 0?M:xe)}var fe=C.disabled,Le=C.title,Ze=C.children,Z=C.style,tt=C.className,Je=(0,Be.Z)(C,Pt),me=(0,Ut.Z)(Je,oe),K=Ge(z),ge="".concat(ae,"-option"),L=yt()(ae,ge,tt,(f={},(0,w.Z)(f,"".concat(ge,"-grouped"),p),(0,w.Z)(f,"".concat(ge,"-active"),_===n&&!fe),(0,w.Z)(f,"".concat(ge,"-disabled"),fe),(0,w.Z)(f,"".concat(ge,"-selected"),K),f)),he=et(s),X=!k||typeof k=="function"||K,we=typeof he=="number"?he:he||z,pe=Et(we)?we.toString():void 0;return Le!==void 0&&(pe=Le),u.createElement("div",(0,Y.Z)({},(0,Zt.Z)(me),q?{}:A(s,n),{"aria-selected":K,className:L,title:pe,onMouseMove:function(){_===n||fe||De(n)},onClick:function(){fe||ve(z)},style:Z}),u.createElement("div",{className:"".concat(ge,"-content")},we),u.isValidElement(k)||K,X&&u.createElement(Ht.Z,{className:"".concat(ae,"-option-state"),customizeIcon:k,customizeIconProps:{isSelected:K}},K?"\u2713":null))}))},t=u.forwardRef(jt);t.displayName="OptionList";const S=t;var $=e(63471),R=e(21454),lt=e(13117),O=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],it=["inputValue"];function He(a){return!a||(0,ht.Z)(a)!=="object"}var ke=u.forwardRef(function(a,Ve){var Ce=a.id,m=a.mode,le=a.prefixCls,Q=le===void 0?"rc-select":le,h=a.backfill,I=a.fieldNames,te=a.inputValue,ie=a.searchValue,ne=a.onSearch,Re=a.autoClearSearchValue,ue=Re===void 0?!0:Re,P=a.onSelect,ce=a.onDeselect,j=a.dropdownMatchSelectWidth,se=j===void 0?!0:j,de=a.filterOption,k=a.filterSort,E=a.optionFilterProp,W=a.optionLabelProp,q=a.options,je=a.children,ze=a.defaultActiveFirstOption,ae=a.menuItemSelectedIcon,U=a.virtual,be=a.listHeight,Xe=be===void 0?200:be,Me=a.listItemHeight,Ne=Me===void 0?20:Me,ut=a.value,qe=a.defaultValue,_=a.labelInValue,_e=a.onChange,De=(0,Be.Z)(a,O),Ge=(0,Tt.ZP)(Ce),ve=(0,rt.E)(m),oe=!!(!q&&je),et=u.useMemo(function(){return de===void 0&&m==="combobox"?!1:de},[de,m]),A=u.useMemo(function(){return(0,R.w$)(I,oe)},[JSON.stringify(I),oe]),Ae=(0,pt.Z)("",{value:ie!==void 0?ie:te,postState:function(l){return l||""}}),ye=(0,T.Z)(Ae,2),s=ye[0],n=ye[1],f=(0,v.Z)(q,je,A,E,W),g=f.valueOptions,p=f.labelOptions,C=f.options,M=u.useCallback(function(i){var l=(0,$.qo)(i);return l.map(function(o){var d,b,y,Ie,Se;if(He(o))d=o;else{var ee;y=o.key,b=o.label,d=(ee=o.value)!==null&&ee!==void 0?ee:y}var x=g.get(d);if(x){var Fe;if(b===void 0&&(b=x?.[W||A.label]),y===void 0&&(y=(Fe=x?.key)!==null&&Fe!==void 0?Fe:d),Ie=x?.disabled,Se=x?.title,!1)var ft}return{label:b,value:d,key:y,disabled:Ie,title:Se}})},[A,W,g]),z=(0,pt.Z)(qe,{value:ut}),xe=(0,T.Z)(z,2),Te=xe[0],Ye=xe[1],fe=u.useMemo(function(){var i,l=M(Te);return m==="combobox"&&!((i=l[0])!==null&&i!==void 0&&i.value)?[]:l},[Te,M,m]),Le=(0,xt.Z)(fe,g),Ze=(0,T.Z)(Le,2),Z=Ze[0],tt=Ze[1],Je=u.useMemo(function(){if(!m&&Z.length===1){var i=Z[0];if(i.value===null&&(i.label===null||i.label===void 0))return[]}return Z.map(function(l){var o;return(0,Qe.Z)((0,Qe.Z)({},l),{},{label:(o=l.label)!==null&&o!==void 0?o:l.value})})},[m,Z]),me=u.useMemo(function(){return new Set(Z.map(function(i){return i.value}))},[Z]);u.useEffect(function(){if(m==="combobox"){var i,l=(i=Z[0])===null||i===void 0?void 0:i.value;n((0,$.Uh)(l)?String(l):"")}},[Z]);var K=(0,bt.Z)(function(i,l){var o,d=l??i;return o={},(0,w.Z)(o,A.value,i),(0,w.Z)(o,A.label,d),o}),ge=u.useMemo(function(){if(m!=="tags")return C;var i=(0,D.Z)(C),l=function(d){return g.has(d)};return(0,D.Z)(Z).sort(function(o,d){return o.value<d.value?-1:1}).forEach(function(o){var d=o.value;l(d)||i.push(K(d,o.label))}),i},[K,C,g,Z,m]),L=(0,Ct.Z)(ge,A,s,et,E),he=u.useMemo(function(){return m!=="tags"||!s||L.some(function(i){return i[E||"value"]===s})?L:[K(s)].concat((0,D.Z)(L))},[K,E,m,L,s]),X=u.useMemo(function(){return k?(0,D.Z)(he).sort(function(i,l){return k(i,l)}):he},[he,k]),we=u.useMemo(function(){return(0,R.UO)(X,{fieldNames:A,childrenAsData:oe})},[X,A,oe]),pe=function(l){var o=M(l);if(Ye(o),_e&&(o.length!==Z.length||o.some(function(y,Ie){var Se;return((Se=Z[Ie])===null||Se===void 0?void 0:Se.value)!==y?.value}))){var d=_?o:o.map(function(y){return y.value}),b=o.map(function(y){return(0,R.tl)(tt(y.value))});_e(ve?d:d[0],ve?b:b[0])}},nt=u.useState(null),Vt=(0,T.Z)(nt,2),zt=Vt[0],at=Vt[1],Rt=u.useState(0),ct=(0,T.Z)(Rt,2),st=ct[0],N=ct[1],dt=ze!==void 0?ze:m!=="combobox",Oe=u.useCallback(function(i,l){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=o.source,b=d===void 0?"keyboard":d;N(l),h&&m==="combobox"&&i!==null&&b==="keyboard"&&at(String(i))},[h,m]),B=function(l,o,d){var b=function(){var mt,Pe=tt(l);return[_?{label:Pe?.[A.label],value:l,key:(mt=Pe?.key)!==null&&mt!==void 0?mt:l}:l,(0,R.tl)(Pe)]};if(o&&P){var y=b(),Ie=(0,T.Z)(y,2),Se=Ie[0],ee=Ie[1];P(Se,ee)}else if(!o&&ce&&d!=="clear"){var x=b(),Fe=(0,T.Z)(x,2),ft=Fe[0],Dt=Fe[1];ce(ft,Dt)}},Mt=(0,bt.Z)(function(i,l){var o,d=ve?l.selected:!0;d?o=ve?[].concat((0,D.Z)(Z),[i]):[i]:o=Z.filter(function(b){return b.value!==i}),pe(o),B(i,d),m==="combobox"?at(""):(!rt.E||ue)&&(n(""),at(""))}),vt=function(l,o){pe(l);var d=o.type,b=o.values;(d==="remove"||d==="clear")&&b.forEach(function(y){B(y.value,!1,d)})},Xt=function(l,o){if(n(l),at(null),o.source==="submit"){var d=(l||"").trim();if(d){var b=Array.from(new Set([].concat((0,D.Z)(me),[d])));pe(b),B(d,!0),n("")}return}o.source!=="blur"&&(m==="combobox"&&pe(l),ne?.(l))},Gt=function(l){var o=l;m!=="tags"&&(o=l.map(function(b){var y=p.get(b);return y?.value}).filter(function(b){return b!==void 0}));var d=Array.from(new Set([].concat((0,D.Z)(me),(0,D.Z)(o))));pe(d),d.forEach(function(b){B(b,!0)})},Nt=u.useMemo(function(){var i=U!==!1&&se!==!1;return(0,Qe.Z)((0,Qe.Z)({},f),{},{flattenOptions:we,onActiveValue:Oe,defaultActiveFirstOption:dt,onSelect:Mt,menuItemSelectedIcon:ae,rawValues:me,fieldNames:A,virtual:i,listHeight:Xe,listItemHeight:Ne,childrenAsData:oe})},[f,we,Oe,dt,Mt,ae,me,A,U,se,Xe,Ne,oe]);return u.createElement(It.Provider,{value:Nt},u.createElement(rt.Z,(0,Y.Z)({},De,{id:Ge,prefixCls:Q,ref:Ve,omitDomProps:it,mode:m,displayValues:Je,onDisplayValuesChange:vt,searchValue:s,onSearch:Xt,autoClearSearchValue:ue,onSearchSplit:Gt,dropdownMatchSelectWidth:se,OptionList:S,emptyOptions:!we.length,activeValue:zt,activeDescendantId:"".concat(Ge,"_list_").concat(st)})))}),Ee=ke;Ee.Option=Ft.Z,Ee.OptGroup=Lt.Z;const $e=Ee}}]);
