"use strict";(self.webpackChunkantd_admin=self.webpackChunkantd_admin||[]).push([[2599],{12599:(Or,Ct,Ut)=>{Ut.d(Ct,{J0:()=>F,RQ:()=>ue,WK:()=>Fe,Zn:()=>Ee,Zq:()=>Te,aU:()=>k,cP:()=>V,fp:()=>ee,pC:()=>Xe,q_:()=>Tt});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},M.apply(this,arguments)}var k;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(k||(k={}));const Ke="popstate";function _r(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:a=!1}=e,o;o=t.map((m,v)=>p(m,typeof m=="string"?null:m.state,v===0?"default":void 0));let l=h(r??o.length-1),s=k.Pop,u=null;function h(m){return Math.min(Math.max(m,0),o.length-1)}function w(){return o[l]}function p(m,v,R){v===void 0&&(v=null);let n=Z(o?w().pathname:"/",m,v,R);return X(n.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(m)),n}function f(m){return typeof m=="string"?m:K(m)}return{get index(){return l},get action(){return s},get location(){return w()},createHref:f,createURL(m){return new URL(f(m),"http://localhost")},encodeLocation(m){let v=typeof m=="string"?V(m):m;return{pathname:v.pathname||"",search:v.search||"",hash:v.hash||""}},push(m,v){s=k.Push;let R=p(m,v);l+=1,o.splice(l,o.length,R),a&&u&&u({action:s,location:R,delta:1})},replace(m,v){s=k.Replace;let R=p(m,v);o[l]=R,a&&u&&u({action:s,location:R,delta:0})},go(m){s=k.Pop;let v=h(l+m),R=o[v];l=v,u&&u({action:s,location:R,delta:m})},listen(m){return u=m,()=>{u=null}}}}function jr(e){e===void 0&&(e={});function t(a,o){let{pathname:l,search:s,hash:u}=a.location;return Z("",{pathname:l,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:K(o)}return Ye(t,r,null,e)}function Tt(e){e===void 0&&(e={});function t(o,l){let{pathname:s="/",search:u="",hash:h=""}=V(o.location.hash.substr(1));return Z("",{pathname:s,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){let s=o.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let h=o.location.href,w=h.indexOf("#");u=w===-1?h:h.slice(0,w)}return u+"#"+(typeof l=="string"?l:K(l))}function a(o,l){X(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return Ye(t,r,a,e)}function F(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ft(){return Math.random().toString(36).substr(2,8)}function Ve(e,t){return{usr:e.state,key:e.key,idx:t}}function Z(e,t,r,a){return r===void 0&&(r=null),M({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?V(t):t,{state:r,key:t&&t.key||a||Ft()})}function K(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function V(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Ye(e,t,r,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:l=!1}=a,s=o.history,u=k.Pop,h=null,w=p();w==null&&(w=0,s.replaceState(M({},s.state,{idx:w}),""));function p(){return(s.state||{idx:null}).idx}function f(){u=k.Pop;let n=p(),P=n==null?null:n-w;w=n,h&&h({action:u,location:R.location,delta:P})}function g(n,P){u=k.Push;let C=Z(R.location,n,P);r&&r(C,n),w=p()+1;let D=Ve(C,w),A=R.createHref(C);try{s.pushState(D,"",A)}catch{o.location.assign(A)}l&&h&&h({action:u,location:R.location,delta:1})}function m(n,P){u=k.Replace;let C=Z(R.location,n,P);r&&r(C,n),w=p();let D=Ve(C,w),A=R.createHref(C);s.replaceState(D,"",A),l&&h&&h({action:u,location:R.location,delta:0})}function v(n){let P=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof n=="string"?n:K(n);return F(P,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,P)}let R={get action(){return u},get location(){return e(o,s)},listen(n){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Ke,f),h=n,()=>{o.removeEventListener(Ke,f),h=null}},createHref(n){return t(o,n)},createURL:v,encodeLocation(n){let P=v(n);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:g,replace:m,go(n){return s.go(n)}};return R}var I;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(I||(I={}));const Ot=new Set(["lazy","caseSensitive","path","id","index","children"]);function _t(e){return e.index===!0}function Ce(e,t,r,a){return r===void 0&&(r=[]),a===void 0&&(a={}),e.map((o,l)=>{let s=[...r,l],u=typeof o.id=="string"?o.id:s.join("-");if(F(o.index!==!0||!o.children,"Cannot specify children on an index route"),F(!a[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),_t(o)){let h=M({},o,{hasErrorBoundary:t(o),id:u});return a[u]=h,h}else{let h=M({},o,{id:u,hasErrorBoundary:t(o),children:void 0});return a[u]=h,o.children&&(h.children=Ce(o.children,t,s,a)),h}})}function ee(e,t,r){r===void 0&&(r="/");let a=typeof t=="string"?V(t):t,o=Ee(a.pathname||"/",r);if(o==null)return null;let l=Je(e);jt(l);let s=null;for(let u=0;s==null&&u<l.length;++u)s=Kt(l[u],Jt(o));return s}function Je(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let o=(l,s,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};h.relativePath.startsWith("/")&&(F(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let w=ue([a,h.relativePath]),p=r.concat(h);l.children&&l.children.length>0&&(F(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),Je(l.children,t,p,w)),!(l.path==null&&!l.index)&&t.push({path:w,score:Wt(w,l.index),routesMeta:p})};return e.forEach((l,s)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,s);else for(let h of Ge(l.path))o(l,s,h)}),t}function Ge(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let s=Ge(a.join("/")),u=[];return u.push(...s.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...s),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function jt(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$t(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const It=/^:\w+$/,Ht=3,kt=2,zt=1,Nt=10,Bt=-2,Qe=e=>e==="*";function Wt(e,t){let r=e.split("/"),a=r.length;return r.some(Qe)&&(a+=Bt),t&&(a+=kt),r.filter(o=>!Qe(o)).reduce((o,l)=>o+(It.test(l)?Ht:l===""?zt:Nt),a)}function $t(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function Kt(e,t){let{routesMeta:r}=e,a={},o="/",l=[];for(let s=0;s<r.length;++s){let u=r[s],h=s===r.length-1,w=o==="/"?t:t.slice(o.length)||"/",p=Vt({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},w);if(!p)return null;Object.assign(a,p.params);let f=u.route;l.push({params:a,pathname:ue([o,p.pathname]),pathnameBase:Zt(ue([o,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(o=ue([o,p.pathnameBase]))}return l}function Ir(e,t){t===void 0&&(t={});let r=e;r.endsWith("*")&&r!=="*"&&!r.endsWith("/*")&&(X(!1,'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".')),r=r.replace(/\*$/,"/*"));const a=r.startsWith("/")?"/":"",o=r.split(/\/+/).map((l,s,u)=>{if(s===u.length-1&&l==="*")return t["*"];const w=l.match(/^:(\w+)(\??)$/);if(w){const[,p,f]=w;let g=t[p];return f==="?"?g??"":(g==null&&F(!1,'Missing ":'+p+'" param'),g)}return l.replace(/\?$/g,"")}).filter(l=>!!l);return a+o.join("/")}function Vt(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Yt(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],s=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:a.reduce((w,p,f)=>{if(p==="*"){let g=u[f]||"";s=l.slice(0,l.length-g.length).replace(/(.)\/+$/,"$1")}return w[p]=Gt(u[f]||"",p),w},{}),pathname:l,pathnameBase:s,pattern:e}}function Yt(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),X(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,u)=>(a.push(u),"/([^\\/]+)"));return e.endsWith("*")?(a.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function Jt(e){try{return decodeURI(e)}catch(t){return X(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gt(e,t){try{return decodeURIComponent(e)}catch(r){return X(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Ee(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function Qt(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:o=""}=typeof e=="string"?V(e):e;return{pathname:r?r.startsWith("/")?r:Xt(r,t):t,search:qt(a),hash:er(o)}}function Xt(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ue(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Te(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xe(e,t,r,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=V(e):(o=M({},e),F(!o.pathname||!o.pathname.includes("?"),Ue("?","pathname","search",o)),F(!o.pathname||!o.pathname.includes("#"),Ue("#","pathname","hash",o)),F(!o.search||!o.search.includes("#"),Ue("#","search","hash",o)));let l=e===""||o.pathname==="",s=l?"/":o.pathname,u;if(a||s==null)u=r;else{let f=t.length-1;if(s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),f-=1;o.pathname=g.join("/")}u=f>=0?t[f]:"/"}let h=Qt(o,u),w=s&&s!=="/"&&s.endsWith("/"),p=(l||s===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(w||p)&&(h.pathname+="/"),h}function Hr(e){return e===""||e.pathname===""?"/":typeof e=="string"?V(e).pathname:e.pathname}const ue=e=>e.join("/").replace(/\/\/+/g,"/"),Zt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,er=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,kr=function(t,r){r===void 0&&(r={});let a=typeof r=="number"?{status:r}:r,o=new Headers(a.headers);return o.has("Content-Type")||o.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),M({},a,{headers:o}))};class Ze extends Error{}class tr{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],F(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let a;this.abortPromise=new Promise((l,s)=>a=s),this.controller=new AbortController;let o=()=>a(new Ze("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",o),this.controller.signal.addEventListener("abort",o),this.data=Object.entries(t).reduce((l,s)=>{let[u,h]=s;return Object.assign(l,{[u]:this.trackPromise(u,h)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let a=Promise.race([r,this.abortPromise]).then(o=>this.onSettle(a,t,null,o),o=>this.onSettle(a,t,o));return a.catch(()=>{}),Object.defineProperty(a,"_tracked",{get:()=>!0}),a}onSettle(t,r,a,o){return this.controller.signal.aborted&&a instanceof Ze?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>a}),Promise.reject(a)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),a?(Object.defineProperty(t,"_error",{get:()=>a}),this.emit(!1,r),Promise.reject(a)):(Object.defineProperty(t,"_data",{get:()=>o}),this.emit(!1,r),o))}emit(t,r){this.subscribers.forEach(a=>a(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let a=()=>this.cancel();t.addEventListener("abort",a),r=await new Promise(o=>{this.subscribe(l=>{t.removeEventListener("abort",a),(l||this.done)&&o(l)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return F(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[a,o]=r;return Object.assign(t,{[a]:nr(o)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function rr(e){return e instanceof Promise&&e._tracked===!0}function nr(e){if(!rr(e))return e;if(e._error)throw e._error;return e._data}const zr=function(t,r){r===void 0&&(r={});let a=typeof r=="number"?{status:r}:r;return new tr(t,a)},Nr=function(t,r){r===void 0&&(r=302);let a=r;typeof a=="number"?a={status:a}:typeof a.status>"u"&&(a.status=302);let o=new Headers(a.headers);return o.set("Location",t),new Response(null,M({},a,{headers:o}))};class qe{constructor(t,r,a,o){o===void 0&&(o=!1),this.status=t,this.statusText=r||"",this.internal=o,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function Fe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const et=["post","put","patch","delete"],ar=new Set(et),or=["get",...et],ir=new Set(or),lr=new Set([301,302,303,307,308]),sr=new Set([307,308]),Oe={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},dr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},tt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ur=!nt,at=e=>!!e.hasErrorBoundary;function Br(e){F(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=e.detectErrorBoundary||at,r={},a=Ce(e.routes,t,void 0,r),o,l=M({v7_normalizeFormMethod:!1},e.future),s=null,u=new Set,h=null,w=null,p=null,f=e.hydrationData!=null,g=ee(a,e.history.location,e.basename),m=null;if(g==null){let i=z(404,{pathname:e.history.location.pathname}),{matches:d,route:c}=Le(a);g=d,m={[c.id]:i}}let v=!g.some(i=>i.route.lazy)&&(!g.some(i=>i.route.loader)||e.hydrationData!=null),R,n={historyAction:e.history.action,location:e.history.location,matches:g,initialized:v,navigation:Oe,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},P=k.Pop,C=!1,D,A=!1,U=!1,H=[],T=[],_=new Map,ge=0,ye=-1,ve=new Map,Me=new Set,fe=new Map,se=new Map,re=new Map,je=!1;function yr(){return s=e.history.listen(i=>{let{action:d,location:c,delta:y}=i;if(je){je=!1;return}X(re.size===0||y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let b=Mt({currentLocation:n.location,nextLocation:c,historyAction:d});if(b&&y!=null){je=!0,e.history.go(y*-1),Ae(b,{state:"blocked",location:c,proceed(){Ae(b,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),e.history.go(y)},reset(){Re(b),W({blockers:new Map(R.state.blockers)})}});return}return ne(d,c)}),n.initialized||ne(k.Pop,n.location),R}function vr(){s&&s(),u.clear(),D&&D.abort(),n.fetchers.forEach((i,d)=>ke(d)),n.blockers.forEach((i,d)=>Re(d))}function br(i){return u.add(i),()=>u.delete(i)}function W(i){n=M({},n,i),u.forEach(d=>d(n))}function be(i,d){var c,y;let b=n.actionData!=null&&n.navigation.formMethod!=null&&Q(n.navigation.formMethod)&&n.navigation.state==="loading"&&((c=i.state)==null?void 0:c._isRedirect)!==!0,E;d.actionData?Object.keys(d.actionData).length>0?E=d.actionData:E=null:b?E=n.actionData:E=null;let L=d.loaderData?pt(n.loaderData,d.loaderData,d.matches||[],d.errors):n.loaderData;for(let[S]of re)Re(S);let x=C===!0||n.navigation.formMethod!=null&&Q(n.navigation.formMethod)&&((y=i.state)==null?void 0:y._isRedirect)!==!0;o&&(a=o,o=void 0),W(M({},d,{actionData:E,loaderData:L,historyAction:P,location:i,initialized:!0,navigation:Oe,revalidation:"idle",restoreScrollPosition:xt(i,d.matches||n.matches),preventScrollReset:x,blockers:new Map(n.blockers)})),A||P===k.Pop||(P===k.Push?e.history.push(i,i.state):P===k.Replace&&e.history.replace(i,i.state)),P=k.Pop,C=!1,A=!1,U=!1,H=[],T=[]}async function Dt(i,d){if(typeof i=="number"){e.history.go(i);return}let{path:c,submission:y,error:b}=ot(i,l,d),E=n.location,L=Z(n.location,c,d&&d.state);L=M({},L,e.history.encodeLocation(L));let x=d&&d.replace!=null?d.replace:void 0,S=k.Push;x===!0?S=k.Replace:x===!1||y!=null&&Q(y.formMethod)&&y.formAction===n.location.pathname+n.location.search&&(S=k.Replace);let j=d&&"preventScrollReset"in d?d.preventScrollReset===!0:void 0,O=Mt({currentLocation:E,nextLocation:L,historyAction:S});if(O){Ae(O,{state:"blocked",location:L,proceed(){Ae(O,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),Dt(i,d)},reset(){Re(O),W({blockers:new Map(n.blockers)})}});return}return await ne(S,L,{submission:y,pendingError:b,preventScrollReset:j,replace:d&&d.replace})}function wr(){if(Ie(),W({revalidation:"loading"}),n.navigation.state!=="submitting"){if(n.navigation.state==="idle"){ne(n.historyAction,n.location,{startUninterruptedRevalidation:!0});return}ne(P||n.historyAction,n.navigation.location,{overrideNavigation:n.navigation})}}async function ne(i,d,c){D&&D.abort(),D=null,P=i,A=(c&&c.startUninterruptedRevalidation)===!0,Ar(n.location,n.matches),C=(c&&c.preventScrollReset)===!0;let y=o||a,b=c&&c.overrideNavigation,E=ee(y,d,e.basename);if(!E){let N=z(404,{pathname:d.pathname}),{matches:B,route:J}=Le(y);ze(),be(d,{matches:B,loaderData:{},errors:{[J.id]:N}});return}if(pr(n.location,d)&&!(c&&c.submission&&Q(c.submission.formMethod))){be(d,{matches:E});return}D=new AbortController;let L=pe(e.history,d,D.signal,c&&c.submission),x,S;if(c&&c.pendingError)S={[oe(E).route.id]:c.pendingError};else if(c&&c.submission&&Q(c.submission.formMethod)){let N=await Rr(L,d,c.submission,E,{replace:c.replace});if(N.shortCircuited)return;x=N.pendingActionData,S=N.pendingActionError,b=M({state:"loading",location:d},c.submission),L=new Request(L.url,{signal:L.signal})}let{shortCircuited:j,loaderData:O,errors:Y}=await Dr(L,d,E,b,c&&c.submission,c&&c.fetcherSubmission,c&&c.replace,x,S);j||(D=null,be(d,M({matches:E},x?{actionData:x}:{},{loaderData:O,errors:Y})))}async function Rr(i,d,c,y,b){Ie();let E=M({state:"submitting",location:d},c);W({navigation:E});let L,x=me(y,d);if(!x.route.action&&!x.route.lazy)L={type:I.error,error:z(405,{method:i.method,pathname:d.pathname,routeId:x.route.id})};else if(L=await ae("action",i,x,y,r,t,R.basename),i.signal.aborted)return{shortCircuited:!0};if(le(L)){let S;return b&&b.replace!=null?S=b.replace:S=L.location===n.location.pathname+n.location.search,await we(n,L,{submission:c,replace:S}),{shortCircuited:!0}}if(ie(L)){let S=oe(y,x.route.id);return(b&&b.replace)!==!0&&(P=k.Push),{pendingActionData:{},pendingActionError:{[S.route.id]:L.error}}}if(te(L))throw z(400,{type:"defer-action"});return{pendingActionData:{[x.route.id]:L.data}}}async function Dr(i,d,c,y,b,E,L,x,S){let j=y;j||(j=M({state:"loading",location:d,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},b));let O=b||E?b||E:j.formMethod&&j.formAction&&j.formData&&j.formEncType?{formMethod:j.formMethod,formAction:j.formAction,formData:j.formData,formEncType:j.formEncType}:void 0,Y=o||a,[N,B]=lt(e.history,n,c,O,d,U,H,T,fe,Y,e.basename,x,S);if(ze($=>!(c&&c.some(G=>G.route.id===$))||N&&N.some(G=>G.route.id===$)),N.length===0&&B.length===0)return be(d,M({matches:c,loaderData:{},errors:S||null},x?{actionData:x}:{})),{shortCircuited:!0};if(!A){B.forEach(G=>{let de=n.fetchers.get(G.key),Pe={state:"loading",data:de&&de.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(G.key,Pe)});let $=x||n.actionData;W(M({navigation:j},$?Object.keys($).length===0?{actionData:null}:{actionData:$}:{},B.length>0?{fetchers:new Map(n.fetchers)}:{}))}ye=++ge,B.forEach($=>_.set($.key,D));let{results:J,loaderResults:De,fetcherResults:Ne}=await Pt(n.matches,c,N,B,i);if(i.signal.aborted)return{shortCircuited:!0};B.forEach($=>_.delete($.key));let Se=mt(J);if(Se)return await we(n,Se,{replace:L}),{shortCircuited:!0};let{loaderData:he,errors:Be}=ht(n,c,N,De,S,B,Ne,se);se.forEach(($,G)=>{$.subscribe(de=>{(de||$.done)&&se.delete(G)})}),Lr();let We=Lt(ye);return M({loaderData:he,errors:Be},We||B.length>0?{fetchers:new Map(n.fetchers)}:{})}function St(i){return n.fetchers.get(i)||dr}function Sr(i,d,c,y){if(ur)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");_.has(i)&&xe(i);let E=ee(o||a,c,e.basename);if(!E){He(i,d,z(404,{pathname:c}));return}let{path:L,submission:x}=ot(c,l,y,!0),S=me(E,L);if(C=(y&&y.preventScrollReset)===!0,x&&Q(x.formMethod)){Pr(i,d,L,S,E,x);return}fe.set(i,{routeId:d,path:L}),Er(i,d,L,S,E,x)}async function Pr(i,d,c,y,b,E){if(Ie(),fe.delete(i),!y.route.action&&!y.route.lazy){let q=z(405,{method:E.formMethod,pathname:c,routeId:d});He(i,d,q);return}let L=n.fetchers.get(i),x=M({state:"submitting"},E,{data:L&&L.data," _hasFetcherDoneAnything ":!0});n.fetchers.set(i,x),W({fetchers:new Map(n.fetchers)});let S=new AbortController,j=pe(e.history,c,S.signal,E);_.set(i,S);let O=await ae("action",j,y,b,r,t,R.basename);if(j.signal.aborted){_.get(i)===S&&_.delete(i);return}if(le(O)){_.delete(i),Me.add(i);let q=M({state:"loading"},E,{data:void 0," _hasFetcherDoneAnything ":!0});return n.fetchers.set(i,q),W({fetchers:new Map(n.fetchers)}),we(n,O,{submission:E,isFetchActionRedirect:!0})}if(ie(O)){He(i,d,O.error);return}if(te(O))throw z(400,{type:"defer-action"});let Y=n.navigation.location||n.location,N=pe(e.history,Y,S.signal),B=o||a,J=n.navigation.state!=="idle"?ee(B,n.navigation.location,e.basename):n.matches;F(J,"Didn't find any matches after fetcher action");let De=++ge;ve.set(i,De);let Ne=M({state:"loading",data:O.data},E,{" _hasFetcherDoneAnything ":!0});n.fetchers.set(i,Ne);let[Se,he]=lt(e.history,n,J,E,Y,U,H,T,fe,B,e.basename,{[y.route.id]:O.data},void 0);he.filter(q=>q.key!==i).forEach(q=>{let $e=q.key,At=n.fetchers.get($e),Fr={state:"loading",data:At&&At.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set($e,Fr),_.set($e,S)}),W({fetchers:new Map(n.fetchers)});let{results:Be,loaderResults:We,fetcherResults:$}=await Pt(n.matches,J,Se,he,N);if(S.signal.aborted)return;ve.delete(i),_.delete(i),he.forEach(q=>_.delete(q.key));let G=mt(Be);if(G)return we(n,G);let{loaderData:de,errors:Pe}=ht(n,n.matches,Se,We,void 0,he,$,se),Ur={state:"idle",data:O.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(i,Ur);let Tr=Lt(De);n.navigation.state==="loading"&&De>ye?(F(P,"Expected pending action"),D&&D.abort(),be(n.navigation.location,{matches:J,loaderData:de,errors:Pe,fetchers:new Map(n.fetchers)})):(W(M({errors:Pe,loaderData:pt(n.loaderData,de,J,Pe)},Tr?{fetchers:new Map(n.fetchers)}:{})),U=!1)}async function Er(i,d,c,y,b,E){let L=n.fetchers.get(i),x=M({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},E,{data:L&&L.data," _hasFetcherDoneAnything ":!0});n.fetchers.set(i,x),W({fetchers:new Map(n.fetchers)});let S=new AbortController,j=pe(e.history,c,S.signal);_.set(i,S);let O=await ae("loader",j,y,b,r,t,R.basename);if(te(O)&&(O=await bt(O,j.signal,!0)||O),_.get(i)===S&&_.delete(i),j.signal.aborted)return;if(le(O)){await we(n,O);return}if(ie(O)){let N=oe(n.matches,d);n.fetchers.delete(i),W({fetchers:new Map(n.fetchers),errors:{[N.route.id]:O.error}});return}F(!te(O),"Unhandled fetcher deferred data");let Y={state:"idle",data:O.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(i,Y),W({fetchers:new Map(n.fetchers)})}async function we(i,d,c){var y;let{submission:b,replace:E,isFetchActionRedirect:L}=c===void 0?{}:c;d.revalidate&&(U=!0);let x=Z(i.location,d.location,M({_isRedirect:!0},L?{_isFetchActionRedirect:!0}:{}));if(F(x,"Expected a location on the redirect navigation"),rt.test(d.location)&&nt&&typeof((y=window)==null?void 0:y.location)<"u"){let B=e.history.createURL(d.location),J=Ee(B.pathname,e.basename||"/")==null;if(window.location.origin!==B.origin||J){E?window.location.replace(d.location):window.location.assign(d.location);return}}D=null;let S=E===!0?k.Replace:k.Push,{formMethod:j,formAction:O,formEncType:Y,formData:N}=i.navigation;!b&&j&&O&&N&&Y&&(b={formMethod:j,formAction:O,formEncType:Y,formData:N}),sr.has(d.status)&&b&&Q(b.formMethod)?await ne(S,x,{submission:M({},b,{formAction:d.location}),preventScrollReset:C}):L?await ne(S,x,{overrideNavigation:{state:"loading",location:x,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:b,preventScrollReset:C}):await ne(S,x,{overrideNavigation:{state:"loading",location:x,formMethod:b?b.formMethod:void 0,formAction:b?b.formAction:void 0,formEncType:b?b.formEncType:void 0,formData:b?b.formData:void 0},preventScrollReset:C})}async function Pt(i,d,c,y,b){let E=await Promise.all([...c.map(S=>ae("loader",b,S,d,r,t,R.basename)),...y.map(S=>S.matches&&S.match?ae("loader",pe(e.history,S.path,b.signal),S.match,S.matches,r,t,R.basename):{type:I.error,error:z(404,{pathname:S.path})})]),L=E.slice(0,c.length),x=E.slice(c.length);return await Promise.all([vt(i,c,L,b.signal,!1,n.loaderData),vt(i,y.map(S=>S.match),x,b.signal,!0)]),{results:E,loaderResults:L,fetcherResults:x}}function Ie(){U=!0,H.push(...ze()),fe.forEach((i,d)=>{_.has(d)&&(T.push(d),xe(d))})}function He(i,d,c){let y=oe(n.matches,d);ke(i),W({errors:{[y.route.id]:c},fetchers:new Map(n.fetchers)})}function ke(i){_.has(i)&&xe(i),fe.delete(i),ve.delete(i),Me.delete(i),n.fetchers.delete(i)}function xe(i){let d=_.get(i);F(d,"Expected fetch controller: "+i),d.abort(),_.delete(i)}function Et(i){for(let d of i){let y={state:"idle",data:St(d).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(d,y)}}function Lr(){let i=[];for(let d of Me){let c=n.fetchers.get(d);F(c,"Expected fetcher: "+d),c.state==="loading"&&(Me.delete(d),i.push(d))}Et(i)}function Lt(i){let d=[];for(let[c,y]of ve)if(y<i){let b=n.fetchers.get(c);F(b,"Expected fetcher: "+c),b.state==="loading"&&(xe(c),ve.delete(c),d.push(c))}return Et(d),d.length>0}function Mr(i,d){let c=n.blockers.get(i)||tt;return re.get(i)!==d&&re.set(i,d),c}function Re(i){n.blockers.delete(i),re.delete(i)}function Ae(i,d){let c=n.blockers.get(i)||tt;F(c.state==="unblocked"&&d.state==="blocked"||c.state==="blocked"&&d.state==="blocked"||c.state==="blocked"&&d.state==="proceeding"||c.state==="blocked"&&d.state==="unblocked"||c.state==="proceeding"&&d.state==="unblocked","Invalid blocker state transition: "+c.state+" -> "+d.state),n.blockers.set(i,d),W({blockers:new Map(n.blockers)})}function Mt(i){let{currentLocation:d,nextLocation:c,historyAction:y}=i;if(re.size===0)return;re.size>1&&X(!1,"A router only supports one blocker at a time");let b=Array.from(re.entries()),[E,L]=b[b.length-1],x=n.blockers.get(E);if(!(x&&x.state==="proceeding")&&L({currentLocation:d,nextLocation:c,historyAction:y}))return E}function ze(i){let d=[];return se.forEach((c,y)=>{(!i||i(y))&&(c.cancel(),d.push(y),se.delete(y))}),d}function xr(i,d,c){if(h=i,p=d,w=c||(y=>y.key),!f&&n.navigation===Oe){f=!0;let y=xt(n.location,n.matches);y!=null&&W({restoreScrollPosition:y})}return()=>{h=null,p=null,w=null}}function Ar(i,d){if(h&&w&&p){let c=d.map(b=>Rt(b,n.loaderData)),y=w(i,c)||i.key;h[y]=p()}}function xt(i,d){if(h&&w&&p){let c=d.map(E=>Rt(E,n.loaderData)),y=w(i,c)||i.key,b=h[y];if(typeof b=="number")return b}return null}function Cr(i){o=i}return R={get basename(){return e.basename},get state(){return n},get routes(){return a},initialize:yr,subscribe:br,enableScrollRestoration:xr,navigate:Dt,fetch:Sr,revalidate:wr,createHref:i=>e.history.createHref(i),encodeLocation:i=>e.history.encodeLocation(i),getFetcher:St,deleteFetcher:ke,dispose:vr,getBlocker:Mr,deleteBlocker:Re,_internalFetchControllers:_,_internalActiveDeferreds:se,_internalSetRoutes:Cr},R}const cr=Symbol("deferred");function Wr(e,t){F(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let r={},a=t?.detectErrorBoundary||at,o=Ce(e,a,void 0,r),l=(t?t.basename:null)||"/";async function s(f,g){let{requestContext:m}=g===void 0?{}:g,v=new URL(f.url),R=f.method,n=Z("",K(v),null,"default"),P=ee(o,n,l);if(!_e(R)&&R!=="HEAD"){let D=z(405,{method:R}),{matches:A,route:U}=Le(o);return{basename:l,location:n,matches:A,loaderData:{},actionData:null,errors:{[U.id]:D},statusCode:D.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}else if(!P){let D=z(404,{pathname:n.pathname}),{matches:A,route:U}=Le(o);return{basename:l,location:n,matches:A,loaderData:{},actionData:null,errors:{[U.id]:D},statusCode:D.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let C=await h(f,n,P,m);return ce(C)?C:M({location:n,basename:l},C)}async function u(f,g){let{routeId:m,requestContext:v}=g===void 0?{}:g,R=new URL(f.url),n=f.method,P=Z("",K(R),null,"default"),C=ee(o,P,l);if(!_e(n)&&n!=="HEAD"&&n!=="OPTIONS")throw z(405,{method:n});if(!C)throw z(404,{pathname:P.pathname});let D=m?C.find(T=>T.route.id===m):me(C,P);if(m&&!D)throw z(403,{pathname:P.pathname,routeId:m});if(!D)throw z(404,{pathname:P.pathname});let A=await h(f,P,C,v,D);if(ce(A))return A;let U=A.errors?Object.values(A.errors)[0]:void 0;if(U!==void 0)throw U;if(A.actionData)return Object.values(A.actionData)[0];if(A.loaderData){var H;let T=Object.values(A.loaderData)[0];return(H=A.activeDeferreds)!=null&&H[D.route.id]&&(T[cr]=A.activeDeferreds[D.route.id]),T}}async function h(f,g,m,v,R){F(f.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(Q(f.method.toLowerCase()))return await w(f,m,R||me(m,g),v,R!=null);let n=await p(f,m,v,R);return ce(n)?n:M({},n,{actionData:null,actionHeaders:{}})}catch(n){if(gr(n)){if(n.type===I.error&&!yt(n.response))throw n.response;return n.response}if(yt(n))return n;throw n}}async function w(f,g,m,v,R){let n;if(!m.route.action&&!m.route.lazy){let D=z(405,{method:f.method,pathname:new URL(f.url).pathname,routeId:m.route.id});if(R)throw D;n={type:I.error,error:D}}else if(n=await ae("action",f,m,g,r,a,l,!0,R,v),f.signal.aborted){let D=R?"queryRoute":"query";throw new Error(D+"() call aborted")}if(le(n))throw new Response(null,{status:n.status,headers:{Location:n.location}});if(te(n)){let D=z(400,{type:"defer-action"});if(R)throw D;n={type:I.error,error:D}}if(R){if(ie(n))throw n.error;return{matches:[m],loaderData:{},actionData:{[m.route.id]:n.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(ie(n)){let D=oe(g,m.route.id),A=await p(f,g,v,void 0,{[D.route.id]:n.error});return M({},A,{statusCode:Fe(n.error)?n.error.status:500,actionData:null,actionHeaders:M({},n.headers?{[m.route.id]:n.headers}:{})})}let P=new Request(f.url,{headers:f.headers,redirect:f.redirect,signal:f.signal}),C=await p(P,g,v);return M({},C,n.statusCode?{statusCode:n.statusCode}:{},{actionData:{[m.route.id]:n.data},actionHeaders:M({},n.headers?{[m.route.id]:n.headers}:{})})}async function p(f,g,m,v,R){let n=v!=null;if(n&&!(v!=null&&v.route.loader)&&!(v!=null&&v.route.lazy))throw z(400,{method:f.method,pathname:new URL(f.url).pathname,routeId:v?.route.id});let C=(v?[v]:it(g,Object.keys(R||{})[0])).filter(T=>T.route.loader||T.route.lazy);if(C.length===0)return{matches:g,loaderData:g.reduce((T,_)=>Object.assign(T,{[_.route.id]:null}),{}),errors:R||null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let D=await Promise.all([...C.map(T=>ae("loader",f,T,g,r,a,l,!0,n,m))]);if(f.signal.aborted){let T=n?"queryRoute":"query";throw new Error(T+"() call aborted")}let A=new Map,U=ft(g,C,D,R,A),H=new Set(C.map(T=>T.route.id));return g.forEach(T=>{H.has(T.route.id)||(U.loaderData[T.route.id]=null)}),M({},U,{matches:g,activeDeferreds:A.size>0?Object.fromEntries(A.entries()):null})}return{dataRoutes:o,query:s,queryRoute:u}}function $r(e,t,r){return M({},t,{statusCode:500,errors:{[t._deepestRenderedBoundaryId||e[0].id]:r}})}function fr(e){return e!=null&&"formData"in e}function ot(e,t,r,a){a===void 0&&(a=!1);let o=typeof e=="string"?e:K(e);if(!r||!fr(r))return{path:o};if(r.formMethod&&!_e(r.formMethod))return{path:o,error:z(405,{method:r.formMethod})};let l;if(r.formData){let h=r.formMethod||"get";if(l={formMethod:t.v7_normalizeFormMethod?h.toUpperCase():h.toLowerCase(),formAction:gt(o),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},Q(l.formMethod))return{path:o,submission:l}}let s=V(o),u=ct(r.formData);return a&&s.search&&wt(s.search)&&u.append("index",""),s.search="?"+u,{path:K(s),submission:l}}function it(e,t){let r=e;if(t){let a=e.findIndex(o=>o.route.id===t);a>=0&&(r=e.slice(0,a))}return r}function lt(e,t,r,a,o,l,s,u,h,w,p,f,g){let m=g?Object.values(g)[0]:f?Object.values(f)[0]:void 0,v=e.createURL(t.location),R=e.createURL(o),n=l||v.toString()===R.toString()||v.search!==R.search,P=g?Object.keys(g)[0]:void 0,D=it(r,P).filter((U,H)=>{if(U.route.lazy)return!0;if(U.route.loader==null)return!1;if(hr(t.loaderData,t.matches[H],U)||s.some(ge=>ge===U.route.id))return!0;let T=t.matches[H],_=U;return dt(U,M({currentUrl:v,currentParams:T.params,nextUrl:R,nextParams:_.params},a,{actionResult:m,defaultShouldRevalidate:n||st(T,_)}))}),A=[];return h.forEach((U,H)=>{if(!r.some(ye=>ye.route.id===U.routeId))return;let T=ee(w,U.path,p);if(!T){A.push(M({key:H},U,{matches:null,match:null}));return}let _=me(T,U.path);if(u.includes(H)){A.push(M({key:H,matches:T,match:_},U));return}dt(_,M({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:R,nextParams:r[r.length-1].params},a,{actionResult:m,defaultShouldRevalidate:n}))&&A.push(M({key:H,matches:T,match:_},U))}),[D,A]}function hr(e,t,r){let a=!t||r.route.id!==t.route.id,o=e[r.route.id]===void 0;return a||o}function st(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function dt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function ut(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let o=r[e.id];F(o,"No route found in manifest");let l={};for(let s in a){let h=o[s]!==void 0&&s!=="hasErrorBoundary";X(!h,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!h&&!Ot.has(s)&&(l[s]=a[s])}Object.assign(o,l),Object.assign(o,{hasErrorBoundary:t(M({},o)),lazy:void 0})}async function ae(e,t,r,a,o,l,s,u,h,w){s===void 0&&(s="/"),u===void 0&&(u=!1),h===void 0&&(h=!1);let p,f,g,m=n=>{let P,C=new Promise((D,A)=>P=A);return g=()=>P(),t.signal.addEventListener("abort",g),Promise.race([n({request:t,params:r.params,context:w}),C])};try{let n=r.route[e];if(r.route.lazy)if(n)f=(await Promise.all([m(n),ut(r.route,l,o)]))[0];else if(await ut(r.route,l,o),n=r.route[e],n)f=await m(n);else{if(e==="action")throw z(405,{method:t.method,pathname:new URL(t.url).pathname,routeId:r.route.id});return{type:I.data,data:void 0}}else F(n,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),f=await m(n);F(f!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(n){p=I.error,f=n}finally{g&&t.signal.removeEventListener("abort",g)}if(ce(f)){let n=f.status;if(lr.has(n)){let D=f.headers.get("Location");if(F(D,"Redirects returned/thrown from loaders/actions must have a Location header"),rt.test(D)){if(!u){let A=new URL(t.url),U=D.startsWith("//")?new URL(A.protocol+D):new URL(D),H=Ee(U.pathname,s)!=null;U.origin===A.origin&&H&&(D=U.pathname+U.search+U.hash)}}else{let A=a.slice(0,a.indexOf(r)+1),U=Te(A).map(T=>T.pathnameBase),H=Xe(D,U,new URL(t.url).pathname);if(F(K(H),"Unable to resolve redirect location: "+D),s){let T=H.pathname;H.pathname=T==="/"?s:ue([s,T])}D=K(H)}if(u)throw f.headers.set("Location",D),f;return{type:I.redirect,status:n,location:D,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(h)throw{type:p||I.data,response:f};let P,C=f.headers.get("Content-Type");return C&&/\bapplication\/json\b/.test(C)?P=await f.json():P=await f.text(),p===I.error?{type:p,error:new qe(n,f.statusText,P),headers:f.headers}:{type:I.data,data:P,statusCode:f.status,headers:f.headers}}if(p===I.error)return{type:p,error:f};if(mr(f)){var v,R;return{type:I.deferred,deferredData:f,statusCode:(v=f.init)==null?void 0:v.status,headers:((R=f.init)==null?void 0:R.headers)&&new Headers(f.init.headers)}}return{type:I.data,data:f}}function pe(e,t,r,a){let o=e.createURL(gt(t)).toString(),l={signal:r};if(a&&Q(a.formMethod)){let{formMethod:s,formEncType:u,formData:h}=a;l.method=s.toUpperCase(),l.body=u==="application/x-www-form-urlencoded"?ct(h):h}return new Request(o,l)}function ct(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,a instanceof File?a.name:a);return t}function ft(e,t,r,a,o){let l={},s=null,u,h=!1,w={};return r.forEach((p,f)=>{let g=t[f].route.id;if(F(!le(p),"Cannot handle redirect results in processLoaderData"),ie(p)){let m=oe(e,g),v=p.error;a&&(v=Object.values(a)[0],a=void 0),s=s||{},s[m.route.id]==null&&(s[m.route.id]=v),l[g]=void 0,h||(h=!0,u=Fe(p.error)?p.error.status:500),p.headers&&(w[g]=p.headers)}else te(p)?(o.set(g,p.deferredData),l[g]=p.deferredData.data):l[g]=p.data,p.statusCode!=null&&p.statusCode!==200&&!h&&(u=p.statusCode),p.headers&&(w[g]=p.headers)}),a&&(s=a,l[Object.keys(a)[0]]=void 0),{loaderData:l,errors:s,statusCode:u||200,loaderHeaders:w}}function ht(e,t,r,a,o,l,s,u){let{loaderData:h,errors:w}=ft(t,r,a,o,u);for(let p=0;p<l.length;p++){let{key:f,match:g}=l[p];F(s!==void 0&&s[p]!==void 0,"Did not find corresponding fetcher result");let m=s[p];if(ie(m)){let v=oe(e.matches,g?.route.id);w&&w[v.route.id]||(w=M({},w,{[v.route.id]:m.error})),e.fetchers.delete(f)}else if(le(m))F(!1,"Unhandled fetcher revalidation redirect");else if(te(m))F(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(f,v)}}return{loaderData:h,errors:w}}function pt(e,t,r,a){let o=M({},t);for(let l of r){let s=l.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(o[s]=t[s]):e[s]!==void 0&&l.route.loader&&(o[s]=e[s]),a&&a.hasOwnProperty(s))break}return o}function oe(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function Le(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function z(e,t){let{pathname:r,routeId:a,method:o,type:l}=t===void 0?{}:t,s="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&r&&a?u="You made a "+o+' request to "'+r+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":l==="defer-action"&&(u="defer() is not supported in actions")):e===403?(s="Forbidden",u='Route "'+a+'" does not match URL "'+r+'"'):e===404?(s="Not Found",u='No route matches URL "'+r+'"'):e===405&&(s="Method Not Allowed",o&&r&&a?u="You made a "+o.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":o&&(u='Invalid request method "'+o.toUpperCase()+'"')),new qe(e||500,s,new Error(u),!0)}function mt(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(le(r))return r}}function gt(e){let t=typeof e=="string"?V(e):e;return K(M({},t,{hash:""}))}function pr(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function te(e){return e.type===I.deferred}function ie(e){return e.type===I.error}function le(e){return(e&&e.type)===I.redirect}function mr(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function ce(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function yt(e){if(!ce(e))return!1;let t=e.status,r=e.headers.get("Location");return t>=300&&t<=399&&r!=null}function gr(e){return e&&ce(e.response)&&(e.type===I.data||I.error)}function _e(e){return ir.has(e.toLowerCase())}function Q(e){return ar.has(e.toLowerCase())}async function vt(e,t,r,a,o,l){for(let s=0;s<r.length;s++){let u=r[s],h=t[s];if(!h)continue;let w=e.find(f=>f.route.id===h.route.id),p=w!=null&&!st(w,h)&&(l&&l[h.route.id])!==void 0;te(u)&&(o||p)&&await bt(u,a,o).then(f=>{f&&(r[s]=f||r[s])})}}async function bt(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:I.data,data:e.deferredData.unwrappedData}}catch(o){return{type:I.error,error:o}}return{type:I.data,data:e.deferredData.data}}}function wt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Rt(e,t){let{route:r,pathname:a,params:o}=e;return{id:r.id,pathname:a,params:o,data:t[r.id],handle:r.handle}}function me(e,t){let r=typeof t=="string"?V(t).search:t.search;if(e[e.length-1].route.index&&wt(r||""))return e[e.length-1];let a=Te(e);return a[a.length-1]}}}]);
