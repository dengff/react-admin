"use strict";(self.webpackChunkantd_admin=self.webpackChunkantd_admin||[]).push([[1424],{86615:(y,f,t)=>{t.d(f,{Z:()=>e});var c=t(1413),C=t(44925),m=t(22270),T=t(80575),v=t(67294),P=t(64893),i=t(41420),O=t(85893),p=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],R=v.forwardRef(function(s,d){var E=s.fieldProps,a=s.options,o=s.radioType,r=s.layout,l=s.proFieldProps,u=s.valueEnum,D=(0,C.Z)(s,p);return(0,O.jsx)(i.Z,(0,c.Z)((0,c.Z)({valueType:o==="button"?"radioButton":"radio",ref:d,valueEnum:(0,m.h)(u,void 0)},D),{},{fieldProps:(0,c.Z)({options:a,layout:r},E),proFieldProps:l,filedConfig:{customLightMode:!0}}))}),n=v.forwardRef(function(s,d){var E=s.fieldProps,a=s.children;return(0,O.jsx)(T.ZP,(0,c.Z)((0,c.Z)({},E),{},{ref:d,children:a}))}),I=(0,P.G)(n,{valuePropName:"checked",ignoreWidth:!0}),_=I;_.Group=R,_.Button=T.ZP.Button,_.displayName="ProFormComponent";const e=_},39649:(y,f,t)=>{t.d(f,{yq:()=>i,uf:()=>p,Il:()=>R,dW:()=>O,WY:()=>P});var c=t(88674),C=t(52861);const m={baseURL:"/default-api",headers:{"x-access-token":"bqddxxwqmfncffacvbpkuxvwvqrhln"},timeout:3e3,withCredentials:!0},P=((n=m)=>{const I=C.Z.create({...n});return I.interceptors.request.use(function(_){return _},function(_){return Promise.reject(_)}),I.interceptors.response.use(function(_){const{data:e}=_,{code:s,message:d}=e;if(e instanceof ArrayBuffer)return e;const E={200:()=>e,default:()=>Promise.reject(_.data)};return E[s]?E[s]():E.default()},function(_){return Promise.reject(_)}),I})({baseURL:"https://mock.apifox.cn/m1/1225980-0-default"}),i=n=>P.post("/login",{...n}),O=n=>P.post("/userInfo",{token:n}),p=n=>P.post("/logout",{token:n}),R=n=>P.post("/detailInfo",{...n})},81424:(y,f,t)=>{t.r(f),t.d(f,{default:()=>_});var c=t(66992),C=t.n(c),m=t(33948),T=t.n(m),v=t(27061),P=t(86615),i=t(67294),O=t(70743),p=t(40778),R=t(33348),n=t(85893);const _=()=>{const e=(0,O.I0)(),s=(0,i.useRef)(),{userInfo:d}=(0,O.v9)(R.b),{id:E=""}=d??{},[a,o]=(0,i.useState)(E),r=l=>{const{value:u}=l.target;o(u),e((0,p.x4)({username:u,password:"123456"})).then(D=>{const{token:L}=D?.data;e((0,p.bG)(L))})};return(0,n.jsx)(v.A,{style:{background:"#fff",height:"100%"},formRef:s,layout:"horizontal",title:"\u5176\u4ED6\u6743\u9650",submitter:{render:(l,u)=>null},children:(0,n.jsx)(v.A.Group,{title:"\u9875\u9762\u6743\u9650\u793A\u4F8B",children:(0,n.jsx)(P.Z.Group,{name:"authPage",label:`\u5207\u6362\u9875\u9762\u6743\u9650 --> \u5F53\u524DRole:[${a}]`,radioType:"button",initialValue:a,fieldProps:{onChange:l=>r(l)},options:[{value:"admin",label:"admin"},{value:"editor",label:"editor"},{value:"guest",label:"guest"}]})})})}},40778:(y,f,t)=>{t.d(f,{bG:()=>O,kS:()=>p,oR:()=>R,x4:()=>i});var c=t(88674),C=t.n(c),m=t(39649),T=t(93762),v=t(54599),P=t(38717);const i=({username:e,password:s})=>d=>new Promise((E,a)=>{(0,m.yq)({username:e,password:s}).then(o=>{const{status:r,token:l}=o.data;r===0?(d(n(l)),(0,v.o4)(l),E(o)):a()})}),O=e=>s=>new Promise((d,E)=>{(0,m.dW)(e).then(a=>{const{userInfo:o}=a;s(I(o)),(0,v.ps)(o),d(a)})}),p=e=>s=>new Promise((d,E)=>{(0,m.uf)(e).then(a=>{a?.data.status===0&&(localStorage.removeItem("token"),s(_()),s(n("")),s((0,P.Yc)()),d(!0))}).catch(a=>E(!1))}),R=e=>({type:T.Z.UPDATE_COLLAPSE,collapsed:e}),n=e=>({type:T.Z.USER_SET_USER_TOKEN,token:e}),I=e=>({type:T.Z.USER_SET_USER_INFO,userInfo:e}),_=()=>({type:T.Z.USER_RESET_USER})},38717:(y,f,t)=>{t.d(f,{BH:()=>O,ND:()=>R,Ud:()=>n,Yc:()=>a,_I:()=>p,c_:()=>I,fu:()=>_});var c=t(66992),C=t.n(c),m=t(33948),T=t.n(m),v=t(88674),P=t.n(v),i=t(20409);const O=(o,r)=>(l,u)=>{const{topHeader:D}=u(),{tabList:L}=D;if(L.every(U=>U.key!==r)){var M,A;const U={key:o.pathname,label:o==null||(M=o.route)===null||M===void 0||(A=M.meta)===null||A===void 0?void 0:A.title,closable:!0};l(e([...L,U]))}l(s(r))},p=o=>(r,l)=>new Promise((u,D)=>{if(o==="/home")return;const{topHeader:L}=l(),{tabList:M}=L;let A=0;const U=M.filter((W,j)=>{if(W.key!==o)return!0;W.key===o&&(A=j)}),B=M[A-1];r(e(U)),r(s(B?.key)),u(B)}),R=o=>(r,l)=>{const{topHeader:u}=l(),{tabList:D}=u,L=D.filter(M=>M.key===o||M.key==="/home");r(e(L))},n=o=>(r,l)=>new Promise((u,D)=>{const{topHeader:L}=l(),{tabList:M}=L,A=M.filter(U=>U.key==="/home");r(e(A)),u(!0)}),I=o=>r=>{r(d(o))},_=o=>r=>{o&&r(E(o))},e=o=>({type:i.Z.SET_TABS,tabList:o}),s=o=>({type:i.Z.SET_TABS_ACTIVE_KEY,activeKey:o}),d=o=>({type:i.Z.SET_PAGE_LAYOUT_ITEMS,layoutItems:o}),E=o=>({type:i.Z.SET_LAYOUT_MODE,layoutMode:o}),a=()=>({type:i.Z.RESET_TOP_HEADER_STATE})}}]);
